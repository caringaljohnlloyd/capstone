"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[947],{947:function(t,e,o){o.r(e),o.d(e,{default:function(){return z}});var i=o(3396),a=o(7139);const r=t=>((0,i.dD)("data-v-e114b294"),t=t(),(0,i.Cn)(),t),n={class:"main-content"},s=r((()=>(0,i._)("h2",null,"Booking History",-1))),l={key:0},g=r((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Name"),(0,i._)("th",null,"Booking Date"),(0,i._)("th",null,"Details")])],-1))),h={key:1},c=r((()=>(0,i._)("h2",null,"Cottage History",-1))),u={key:2},y=r((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Name"),(0,i._)("th",null,"Cottage Date"),(0,i._)("th",null,"Details")])],-1))),d={key:3},_=r((()=>(0,i._)("h2",null,"Reservation History",-1))),w={key:4},H=r((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Name"),(0,i._)("th",null,"Reservation Date"),(0,i._)("th",null,"Details")])],-1))),f={key:5};function k(t,e,o,r,k,D){const m=(0,i.up)("Notification");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(m,{show:k.notification.show,type:k.notification.type,message:k.notification.message},null,8,["show","type","message"]),(0,i._)("div",n,[s,k.bookingHistory.length?((0,i.wg)(),(0,i.iD)("table",l,[g,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.bookingHistory,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,a.zw)(D.getUserName(t.userId)),1),(0,i._)("td",null,(0,a.zw)(t.date),1),(0,i._)("td",null,(0,a.zw)(t.details),1)])))),128))])])):((0,i.wg)(),(0,i.iD)("p",h,"Loading booking history...")),c,k.cottageHistory.length?((0,i.wg)(),(0,i.iD)("table",u,[y,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.cottageHistory,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,a.zw)(D.getUserName(t.userId)),1),(0,i._)("td",null,(0,a.zw)(t.date),1),(0,i._)("td",null,(0,a.zw)(t.details),1)])))),128))])])):((0,i.wg)(),(0,i.iD)("p",d,"Loading cottage history...")),_,k.reservationHistory.length?((0,i.wg)(),(0,i.iD)("table",w,[H,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.reservationHistory,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,a.zw)(D.getUserName(t.userId)),1),(0,i._)("td",null,(0,a.zw)(t.date),1),(0,i._)("td",null,(0,a.zw)(t.details),1)])))),128))])])):((0,i.wg)(),(0,i.iD)("p",f,"Loading reservation history..."))])],64)}var D=o(1076),m=o(9646);m.kL.register(...m.zX);var v={name:"analytics",data(){return{bookingHistory:[],cottageHistory:[],reservationHistory:[],user:{},notification:{show:!1,type:"",message:""}}},mounted(){this.fetchAllData()},methods:{async fetchAllData(){await Promise.all([this.fetchUsers(),this.fetchBookingHistory(),this.fetchCottageHistory(),this.fetchReservationHistory()])},async fetchUsers(){try{const t=await D.Z.get("/getData");t.data.forEach((t=>{this.user[t.id]=t.name}))}catch(t){console.error("Error fetching user",t)}},async fetchBookingHistory(){try{const t=await D.Z.get("/getRoomBookingHistory");this.bookingHistory=t.data}catch(t){console.error("Error fetching booking history",t)}},async fetchCottageHistory(){try{const t=await D.Z.get("/getCottageHistory");this.cottageHistory=t.data}catch(t){console.error("Error fetching cottage history",t)}},async fetchReservationHistory(){try{const t=await D.Z.get("/getReservationHistory");this.reservationHistory=t.data}catch(t){console.error("Error fetching reservation history",t)}},getUserName(t){return this.user[t]||"Unknown User"}}},b=o(89);const p=(0,b.Z)(v,[["render",k],["__scopeId","data-v-e114b294"]]);var z=p}}]);
//# sourceMappingURL=947.874a8170.js.map