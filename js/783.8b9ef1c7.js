"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[783],{783:function(e,t,o){o.r(t),o.d(t,{default:function(){return Do}});var s=o(3396),a=o(7139),i=o(9242);const l=e=>((0,s.dD)("data-v-26235fc3"),e=e(),(0,s.Cn)(),e),n={class:"main-content"},d=["src"],r=l((()=>(0,s._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),c=l((()=>(0,s._)("span",null,"Business Dashboard",-1))),m=l((()=>(0,s._)("summary",{class:"inventory-summary"},[(0,s._)("i",{style:{padding:"10px",margin:"0"},class:"fa-solid fa-table"}),(0,s._)("span",{style:{padding:"0",margin:"0"},class:"dropdown-icon"},"▾"),(0,s._)("span",{style:{padding:"0",margin:"0"}},"Inventory Options")],-1))),u={class:"dropdown-menu"},p=l((()=>(0,s._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-house"},null,-1))),h=l((()=>(0,s._)("span",null,"Room Inventory",-1))),g=l((()=>(0,s._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),_=l((()=>(0,s._)("span",null,"Shop Inventory",-1))),b=l((()=>(0,s._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),f=l((()=>(0,s._)("span",null,"Cottage Inventory",-1))),y=l((()=>(0,s._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-utensils"},null,-1))),w=l((()=>(0,s._)("span",null,"Restaurant Reservations",-1))),v=l((()=>(0,s._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-person-swimming"},null,-1))),M=l((()=>(0,s._)("span",null,"Enrollment Inventory",-1))),k=l((()=>(0,s._)("i",{class:"fa-solid fa-people-group"},null,-1))),I=l((()=>(0,s._)("span",null,"Team",-1))),C=l((()=>(0,s._)("i",{class:"fas fa-user"},null,-1))),E=l((()=>(0,s._)("span",null,"Users",-1))),D=l((()=>(0,s._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),T=l((()=>(0,s._)("span",null,"POS",-1))),A={class:"header"},R=l((()=>(0,s._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),P=l((()=>(0,s._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),S=[P],N=l((()=>(0,s._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),V={class:"card-main"},$={class:"content"},q={class:"row"},F={class:"col-12"},Z={class:"card card-default"},U={class:"card-header"},O=l((()=>(0,s._)("h2",{class:"fa-solid fa-utensils"}," Table Inventory",-1))),x=l((()=>(0,s._)("br",null,null,-1))),B={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},z={class:"table"},L={class:"table-product"},W=l((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Table Name"),(0,s._)("th",null,"Description"),(0,s._)("th",null,"Action")])],-1))),H=["onClick"],Y={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},G={class:"modal-dialog modal-dialog-centered",role:"document"},Q={class:"modal-content"},K={class:"modal-header"},j=l((()=>(0,s._)("h5",{class:"modal-title"},"Edit Table",-1))),J={class:"modal-body"},X={class:"form-group"},ee=l((()=>(0,s._)("label",{for:"edit_table_name"},"Table Name",-1))),te={class:"form-group"},oe=l((()=>(0,s._)("label",{for:"edit_table_description"},"Description",-1))),se={class:"modal-footer"},ae=l((()=>(0,s._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),ie={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},le={class:"modal-dialog modal-dialog-centered",role:"document"},ne={class:"modal-content"},de={class:"modal-header"},re=l((()=>(0,s._)("h5",{class:"modal-title"},"Add Table",-1))),ce={class:"modal-body"},me={class:"form-group"},ue=l((()=>(0,s._)("label",{for:"table_name"},"Table Name",-1))),pe={class:"form-group"},he=l((()=>(0,s._)("label",{for:"table_description"},"Description",-1))),ge={class:"modal-footer"},_e=l((()=>(0,s._)("button",{type:"submit",class:"btn btn-custom"},"Add Table",-1))),be=l((()=>(0,s._)("br",null,null,-1))),fe={class:"row"},ye={class:"col-12"},we={class:"card card-default"},ve={class:"card-header"},Me=l((()=>(0,s._)("h2",{class:"fa-solid fa-utensils"}," Menu Management",-1))),ke=l((()=>(0,s._)("br",null,null,-1))),Ie={class:"card-body"},Ce={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},Ee={class:"table table-product",style:{width:"100%"}},De=l((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Item Name"),(0,s._)("th",null,"Category"),(0,s._)("th",null,"Price"),(0,s._)("th",null,"Action")])],-1))),Te=["onClick"],Ae={key:0,class:"modal fade show",tabindex:"-1",role:"dialog"},Re={class:"modal-dialog modal-dialog-centered",role:"document"},Pe={class:"modal-content"},Se={class:"modal-header"},Ne=l((()=>(0,s._)("h5",{class:"modal-title"},"Add Menu Item",-1))),Ve=l((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),$e=[Ve],qe={key:0,class:"modal fade show",tabindex:"-1",role:"dialog"},Fe={class:"modal-dialog modal-dialog-centered",role:"document"},Ze={class:"modal-content"},Ue={class:"modal-header"},Oe=l((()=>(0,s._)("h5",{class:"modal-title"},"Add Menu Item",-1))),xe=l((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),Be=[xe],ze={class:"modal-body"},Le={class:"form-group"},We=l((()=>(0,s._)("label",{for:"item_name"},"Item Name",-1))),He={class:"form-group"},Ye=l((()=>(0,s._)("label",{for:"item_category"},"Category",-1))),Ge=(0,s.uE)('<option value="" disabled data-v-26235fc3>Select a category</option><option value="breakfast" data-v-26235fc3>Breakfast</option><option value="rice" data-v-26235fc3>Rice</option><option value="noodles" data-v-26235fc3>Noodles</option><option value="asian curry" data-v-26235fc3>Asian Curry</option><option value="soup" data-v-26235fc3>Soup</option><option value="refreshments" data-v-26235fc3>Refreshments</option><option value="sizzling" data-v-26235fc3>Sizzling</option><option value="filipino style" data-v-26235fc3>Filipino Style</option><option value="vegetables" data-v-26235fc3>Vegetables</option>',10),Qe=[Ge],Ke={class:"form-group"},je=l((()=>(0,s._)("label",{for:"item_price"},"Price",-1))),Je={class:"form-group"},Xe=l((()=>(0,s._)("label",{for:"item_image"},"Item Image",-1))),et={class:"modal-footer"},tt=l((()=>(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Add Item",-1))),ot={key:0,class:"alert alert-success",role:"alert"},st={key:0,class:"alert alert-success",role:"alert"},at={key:1,class:"alert alert-success",role:"alert"},it={key:2,class:"alert alert-danger",role:"alert"},lt={key:3,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},nt={class:"modal-dialog modal-dialog-centered",role:"document"},dt={class:"modal-content"},rt={class:"modal-header"},ct=l((()=>(0,s._)("h5",{class:"modal-title"},"Edit Menu Item",-1))),mt=l((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),ut=[mt],pt={class:"modal-body"},ht={class:"form-group"},gt=l((()=>(0,s._)("label",{for:"editItemName",class:"label"},"Item Name:",-1))),_t={class:"form-group"},bt=l((()=>(0,s._)("label",{for:"editItemCategory",class:"label"},"Category:",-1))),ft={class:"form-group"},yt=l((()=>(0,s._)("label",{for:"editItemPrice",class:"label"},"Price:",-1))),wt={class:"form-group"},vt=l((()=>(0,s._)("label",{for:"editItemImage",class:"label"},"Change Image:",-1))),Mt={class:"modal-footer"},kt=l((()=>(0,s._)("br",null,null,-1))),It={class:"row"},Ct={class:"col-12"},Et={class:"card card-default"},Dt=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h2",{class:"fa-solid fa-book-bookmark"}," Reservations")],-1))),Tt={class:"card-body"},At={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},Rt={id:"reservationsTable",class:"table table-product",style:{width:"100%"}},Pt=l((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Reservation ID"),(0,s._)("th",null,"User"),(0,s._)("th",null,"Table"),(0,s._)("th",null,"Order Items"),(0,s._)("th",null,"Status"),(0,s._)("th",null,"Proof of Payment"),(0,s._)("th",null,"Action")])],-1))),St=["onClick"],Nt={class:"action-buttons"},Vt=["onClick"],$t=["onClick"],qt=["onClick","disabled"],Ft=["onClick"],Zt={key:0,class:"modal fade show",tabindex:"-1",role:"dialog"},Ut={class:"modal-dialog modal-dialog-centered",role:"document"},Ot={class:"modal-content"},xt={class:"modal-header"},Bt=l((()=>(0,s._)("h5",{class:"modal-title"},"Reservation Details",-1))),zt=l((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),Lt=[zt],Wt={class:"modal-body"},Ht={class:"form-group"},Yt=l((()=>(0,s._)("label",{for:"reservationId"},"Reservation ID:",-1))),Gt={id:"reservationId"},Qt={class:"form-group"},Kt=l((()=>(0,s._)("label",{for:"user"},"User:",-1))),jt={id:"user"},Jt={class:"form-group"},Xt=l((()=>(0,s._)("label",{for:"table"},"Table:",-1))),eo={id:"table"},to={class:"form-group"},oo=l((()=>(0,s._)("label",{for:"orderItems"},"Order Items:",-1))),so={class:"form-group"},ao=l((()=>(0,s._)("label",{for:"status"},"Status:",-1))),io={id:"status"},lo={class:"modal-footer"},no={key:1,class:"alert alert-success",role:"alert"},ro={key:2,class:"alert alert-danger",role:"alert"},co={key:4,class:"modal fade show",tabindex:"-1",role:"dialog"},mo={class:"modal-dialog modal-dialog-centered",role:"document"},uo={class:"modal-content"},po={class:"modal-header"},ho=l((()=>(0,s._)("h5",{class:"modal-title"},"Proof of Payment",-1))),go=l((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),_o=[go],bo={class:"modal-body"},fo=["src"],yo={class:"modal-footer"};function wo(e,t,l,P,Ve,xe){const Ge=(0,s.up)("Notification"),mt=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Ge,{show:Ve.notification.show,type:Ve.notification.type,message:Ve.notification.message},null,8,["show","type","message"]),(0,s._)("div",n,[(0,s._)("div",{class:(0,a.C_)(["sidebar",{collapsed:e.isSidebarCollapsed}])},[(0,s._)("img",{src:o(2894),alt:"Mono",class:"logo"},null,8,d),(0,s.Wm)(mt,{to:"/admin2"},{default:(0,s.w5)((()=>[r,c])),_:1}),(0,s._)("details",null,[m,(0,s._)("div",u,[(0,s.Wm)(mt,{to:"/analytics2"},{default:(0,s.w5)((()=>[p,h])),_:1}),(0,s.Wm)(mt,{to:"/shopinventory"},{default:(0,s.w5)((()=>[g,_])),_:1}),(0,s.Wm)(mt,{to:"/cottagebooking"},{default:(0,s.w5)((()=>[b,f])),_:1}),(0,s.Wm)(mt,{to:"/reservations"},{default:(0,s.w5)((()=>[y,w])),_:1}),(0,s.Wm)(mt,{to:"/enrollment"},{default:(0,s.w5)((()=>[v,M])),_:1})])]),(0,s.Wm)(mt,{to:"/teamadmin2"},{default:(0,s.w5)((()=>[k,I])),_:1}),(0,s.Wm)(mt,{to:"/monitorusers2"},{default:(0,s.w5)((()=>[C,E])),_:1}),(0,s.Wm)(mt,{to:"/pos2"},{default:(0,s.w5)((()=>[D,T])),_:1})],2),(0,s._)("div",A,[R,(0,s._)("button",{class:"navbar-toggler",type:"button",onClick:t[0]||(t[0]=(...t)=>e.toggleSidebar&&e.toggleSidebar(...t))},S),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>xe.logout&&xe.logout(...e)),class:"btn btn-custom logout-logo-btn"},[N,(0,s.Uk)(" Logout ")])]),(0,s._)("div",V,[(0,s._)("div",$,[(0,s._)("div",q,[(0,s._)("div",F,[(0,s._)("div",Z,[(0,s._)("div",U,[O,x,(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[2]||(t[2]=(...e)=>xe.openAddTableModal&&xe.openAddTableModal(...e))}," Add Table ")]),(0,s._)("div",B,[(0,s._)("div",z,[(0,s._)("table",L,[W,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Ve.tables,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:e.table_id},[(0,s._)("td",null,(0,a.zw)(e.table_name),1),(0,s._)("td",null,(0,a.zw)(e.table_description),1),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-custom",onClick:t=>xe.openEditTableModal(e)},"Edit",8,H)])])))),128))])])])])])]),Ve.editTableModalVisible?((0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("div",G,[(0,s._)("div",Q,[(0,s._)("div",K,[j,(0,s._)("button",{type:"button",class:"close",onClick:t[3]||(t[3]=(...e)=>xe.closeEditTableModal&&xe.closeEditTableModal(...e))},"×")]),(0,s._)("div",J,[(0,s._)("form",{onSubmit:t[7]||(t[7]=(0,i.iM)(((...e)=>xe.updateTable&&xe.updateTable(...e)),["prevent"]))},[(0,s._)("div",X,[ee,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>Ve.editedTable.table_name=e),required:""},null,512),[[i.nr,Ve.editedTable.table_name]])]),(0,s._)("div",te,[oe,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>Ve.editedTable.table_description=e),required:""},null,512),[[i.nr,Ve.editedTable.table_description]])]),(0,s._)("div",se,[(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[6]||(t[6]=(...e)=>xe.closeEditTableModal&&xe.closeEditTableModal(...e))},"Close"),ae])],32)])])])])):(0,s.kq)("",!0),Ve.addTableModalVisible?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",le,[(0,s._)("div",ne,[(0,s._)("div",de,[re,(0,s._)("button",{type:"button",class:"close",onClick:t[8]||(t[8]=(...e)=>xe.closeAddTableModal&&xe.closeAddTableModal(...e))},"×")]),(0,s._)("div",ce,[(0,s._)("form",{onSubmit:t[12]||(t[12]=(0,i.iM)(((...e)=>xe.saveTable&&xe.saveTable(...e)),["prevent"]))},[(0,s._)("div",me,[ue,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>Ve.table_name=e),required:""},null,512),[[i.nr,Ve.table_name]])]),(0,s._)("div",pe,[he,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>Ve.table_description=e),required:""},null,512),[[i.nr,Ve.table_description]])]),(0,s._)("div",ge,[(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[11]||(t[11]=(...e)=>xe.closeAddTableModal&&xe.closeAddTableModal(...e))},"Close"),_e])],32)])])])])):(0,s.kq)("",!0)]),be,(0,s._)("div",fe,[(0,s._)("div",ye,[(0,s._)("div",we,[(0,s._)("div",ve,[Me,ke,(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[13]||(t[13]=(...e)=>xe.openAddItemModal&&xe.openAddItemModal(...e))}," Add Menu Item ")]),(0,s._)("div",Ie,[(0,s._)("div",Ce,[(0,s._)("table",Ee,[De,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Ve.menuItems,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:e.menu_id},[(0,s._)("td",null,(0,a.zw)(e.item_name),1),(0,s._)("td",null,(0,a.zw)(e.item_category),1),(0,s._)("td",null,(0,a.zw)(e.item_price),1),(0,s._)("td",null,[(0,s._)("button",{onClick:t=>xe.openEditItemModal(e),class:"btn btn-custom"},"Edit",8,Te)])])))),128))])])])])])])]),Ve.addModalItemVisible?((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("div",Re,[(0,s._)("div",Pe,[(0,s._)("div",Se,[Ne,(0,s._)("button",{type:"button",class:"close",onClick:t[14]||(t[14]=(...e)=>xe.closeAddItemModal&&xe.closeAddItemModal(...e))},$e)]),Ve.addModalItemVisible?((0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",Fe,[(0,s._)("div",Ze,[(0,s._)("div",Ue,[Oe,(0,s._)("button",{type:"button",class:"close",onClick:t[15]||(t[15]=(...e)=>xe.closeAddItemModal&&xe.closeAddItemModal(...e))},Be)]),(0,s._)("div",ze,[(0,s._)("form",{onSubmit:t[21]||(t[21]=(0,i.iM)(((...e)=>xe.addMenuItem&&xe.addMenuItem(...e)),["prevent"]))},[(0,s._)("div",Le,[We,(0,s.wy)((0,s._)("input",{type:"text",id:"item_name",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>Ve.item_name=e),required:""},null,512),[[i.nr,Ve.item_name]])]),(0,s._)("div",He,[Ye,(0,s.wy)((0,s._)("select",{id:"item_category",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=e=>Ve.item_category=e),required:""},Qe,512),[[i.bM,Ve.item_category]])]),(0,s._)("div",Ke,[je,(0,s.wy)((0,s._)("input",{type:"number",id:"item_price",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=e=>Ve.item_price=e),required:""},null,512),[[i.nr,Ve.item_price]])]),(0,s._)("div",Je,[Xe,(0,s._)("input",{type:"file",id:"item_image",class:"form-control",onChange:t[19]||(t[19]=(...e)=>xe.onFileChange&&xe.onFileChange(...e)),required:""},null,32)]),(0,s._)("div",et,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:t[20]||(t[20]=(...e)=>xe.closeAddItemModal&&xe.closeAddItemModal(...e))},"Close"),tt])],32)])])]),Ve.successMessage?((0,s.wg)(),(0,s.iD)("div",ot,(0,a.zw)(Ve.successMessage),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),Ve.successMessage?((0,s.wg)(),(0,s.iD)("div",st,(0,a.zw)(Ve.successMessage),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),Ve.successMessage?((0,s.wg)(),(0,s.iD)("div",at,(0,a.zw)(Ve.successMessage),1)):(0,s.kq)("",!0),Ve.errorMessage?((0,s.wg)(),(0,s.iD)("div",it,(0,a.zw)(Ve.errorMessage),1)):(0,s.kq)("",!0),Ve.editMenuItemModalVisible?((0,s.wg)(),(0,s.iD)("div",lt,[(0,s._)("div",nt,[(0,s._)("div",dt,[(0,s._)("div",rt,[ct,(0,s._)("button",{type:"button",class:"close",onClick:t[22]||(t[22]=(...e)=>xe.closeMenuItemEditModal&&xe.closeMenuItemEditModal(...e)),"aria-label":"Close"},ut)]),(0,s._)("div",pt,[(0,s._)("div",ht,[gt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>Ve.editedMenuItem.item_name=e),type:"text",class:"form-control",id:"editItemName"},null,512),[[i.nr,Ve.editedMenuItem.item_name]])]),(0,s._)("div",_t,[bt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>Ve.editedMenuItem.item_category=e),type:"text",class:"form-control",id:"editItemCategory"},null,512),[[i.nr,Ve.editedMenuItem.item_category]])]),(0,s._)("div",ft,[yt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>Ve.editedMenuItem.item_price=e),type:"number",class:"form-control",id:"editItemPrice"},null,512),[[i.nr,Ve.editedMenuItem.item_price]])]),(0,s._)("div",wt,[vt,(0,s._)("input",{type:"file",ref:"editMenuItemImageInput",onChange:t[26]||(t[26]=(...e)=>xe.handleMenuItemImageUpload&&xe.handleMenuItemImageUpload(...e))},null,544)])]),(0,s._)("div",Mt,[(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[27]||(t[27]=(...e)=>xe.saveMenuItemEdit&&xe.saveMenuItemEdit(...e))},"Save Changes"),(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[28]||(t[28]=(...e)=>xe.closeMenuItemEditModal&&xe.closeMenuItemEditModal(...e))},"Close")])])])])):(0,s.kq)("",!0),kt,(0,s._)("div",It,[(0,s._)("div",Ct,[(0,s._)("div",Et,[Dt,(0,s._)("div",Tt,[(0,s._)("div",At,[(0,s._)("table",Rt,[Pt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Ve.reservations,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:e.reservation_id},[(0,s._)("td",null,(0,a.zw)(e.reservation_id),1),(0,s._)("td",null,(0,a.zw)(e.user.name),1),(0,s._)("td",null,(0,a.zw)(e.table.table_name),1),(0,s._)("td",null,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.order_items,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id},(0,a.zw)(e.item_name)+" ("+(0,a.zw)(e.quantity)+") ",1)))),128))])]),(0,s._)("td",null,(0,a.zw)(e.status),1),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-info",onClick:t=>xe.openProofModalReservation(e.proof_of_payment)}," View Proof ",8,St)]),(0,s._)("td",Nt,[(0,s._)("button",{class:"btn btn-custom",onClick:t=>xe.viewDetails(e)}," View Details ",8,Vt),(0,s._)("button",{class:"btn btn-primary",onClick:t=>xe.acceptReservation(e.reservation_id)}," Accept ",8,$t),(0,s._)("button",{class:"btn btn-secondary",onClick:t=>xe.declineReservation(e.reservation_id),disabled:"confirmed"===e.status}," Decline ",8,qt),(0,s._)("button",{class:"btn btn-custom",onClick:t=>xe.markReservationAsPaid(e.reservation_id)}," Mark as Paid ",8,Ft)])])))),128))])]),Ve.detailsModalVisible?((0,s.wg)(),(0,s.iD)("div",Zt,[(0,s._)("div",Ut,[(0,s._)("div",Ot,[(0,s._)("div",xt,[Bt,(0,s._)("button",{type:"button",class:"close",onClick:t[29]||(t[29]=(...e)=>xe.closeDetailsModal&&xe.closeDetailsModal(...e)),"aria-label":"Close"},Lt)]),(0,s._)("div",Wt,[(0,s._)("div",Ht,[Yt,(0,s._)("p",Gt,(0,a.zw)(Ve.selectedReservation.reservation_id),1)]),(0,s._)("div",Qt,[Kt,(0,s._)("p",jt,(0,a.zw)(Ve.selectedReservation.user.name),1)]),(0,s._)("div",Jt,[Xt,(0,s._)("p",eo,(0,a.zw)(Ve.selectedReservation.table.table_name),1)]),(0,s._)("div",to,[oo,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Ve.selectedReservation.order_items,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id},(0,a.zw)(e.item_name)+" ("+(0,a.zw)(e.quantity)+") ",1)))),128))])]),(0,s._)("div",so,[ao,(0,s._)("p",io,(0,a.zw)(Ve.selectedReservation.status),1)])]),(0,s._)("div",lo,[(0,s._)("button",{type:"button",class:"btn btn-custom",onClick:t[30]||(t[30]=(...e)=>xe.closeDetailsModal&&xe.closeDetailsModal(...e))}," Close ")])])])])):(0,s.kq)("",!0),Ve.successMessage?((0,s.wg)(),(0,s.iD)("div",no,(0,a.zw)(Ve.successMessage),1)):(0,s.kq)("",!0),Ve.errorMessage?((0,s.wg)(),(0,s.iD)("div",ro,(0,a.zw)(Ve.errorMessage),1)):(0,s.kq)("",!0)])])])])]),Ve.isReservationProofModalOpen?((0,s.wg)(),(0,s.iD)("div",co,[(0,s._)("div",mo,[(0,s._)("div",uo,[(0,s._)("div",po,[ho,(0,s._)("button",{type:"button",class:"close",onClick:t[31]||(t[31]=(...e)=>xe.closeReservationProofModal&&xe.closeReservationProofModal(...e)),"aria-label":"Close"},_o)]),(0,s._)("div",bo,[(0,s._)("img",{src:Ve.selectedProofImage,class:"img-fluid",alt:"Proof of Payment"},null,8,fo)]),(0,s._)("div",yo,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:t[32]||(t[32]=(...e)=>xe.closeReservationProofModal&&xe.closeReservationProofModal(...e))}," Close ")])])])])):(0,s.kq)("",!0),(0,s.Wm)(Ge,{show:Ve.notification.show,type:Ve.notification.type,message:Ve.notification.message,class:"bottom-right-notification"},null,8,["show","type","message"])])])])],64)}o(560);var vo=o(1076),Mo=o(7516),ko=(o(2166),o(9754)),Io={name:"reservations",components:{Notification:ko.Z},data(){return{selectedProofImage:"",isProofOfPaymentModalOpen:!1,selectedProofImage:"",isReservationProofModalOpen:!1,selectedProofImage:"",isProofModalOpen:!1,selectedProofImage:"",isModalOpen:!1,cottages:[],cottage_name:"",cottage_description:"",cottage_price:"",cottage_img:null,successMessage:"",addCottageModalVisible:!1,editCottageModalVisible:!1,editedCottage:null,tables:[],table_name:"",table_description:"",editedTable:null,addTableModalVisible:!1,editTableModalVisible:!1,successMessage:"",reservations:[],statusModalVisible:!1,detailsModalVisible:!1,selectedReservation:{},statusToUpdate:"",successMessage:"",errorMessage:"",menuItems:[],selectedImage:null,currentItem:{menu_id:null,item_name:"",item_category:"",item_price:""},addModalItemVisible:!1,editMenuItemModalVisible:!1,editedMenuItem:{item_name:"",item_category:"",item_price:"",item_image:null},item_name:"",item_category:"",item_price:"",successMessage:"",errorMessage:"",currentItem:{},addDateModalVisible:!1,successMessageDate:null,successMessage:null,flatpickrInstance:null,selectedDate:null,dates:[],orders:[],loading:!1,editRoomModalVisible:!1,editedRoom:null,editModalVisible:!1,editedInfo:null,room:[],book:[],enroll:[],infos:[],shop:[],date:[],swimming_date:"",successMessage2:"",addModalVisible:!1,prod_img:"",prod_name:"",prod_quantity:"",prod_desc:"",prod_price:"",addingItemId:null,quantityModalVisible:!1,selectedProduct:null,quantityToAdd:0,successMessage:"",notification:{show:!1,type:"",message:""},addRoomModalVisible:!1,room_name:"",price:"",packs:"3",description:"",downpayment:"",room_img:"",ConfirmationVisible:!1,openDropdown:null,successMessage:"",bookings:[],successMessage:"",errorMessage:"",notification:{show:!1,type:"success",message:""}}},mounted(){this.getCottages(),this.fetchTables(),this.fetchCottageBookings(),this.fetchReservations(),this.fetchMenuItems(),this.getBook(),this.initializeDropdowns()},beforeDestroy(){this.$nextTick((()=>{const e=document.querySelectorAll(".dropdown");e.forEach((e=>{const t=e.querySelector(".select"),o=e.querySelectorAll(".menu li");t.removeEventListener("click",this.handleDropdownClick),o.forEach((e=>{e.removeEventListener("click",this.handleOptionClick)}))}))})),this.getDate()},created(){this.getInfo(),this.getRoom(),this.getBook(),this.getenroll(),this.getDate(),this.fetchOrdersForAllUsers()},methods:{openProofOfPaymentModal(e){this.selectedProofImage=`https://eduardos-resort.online/backend/backend/public/uploads/${e}`,this.isProofOfPaymentModalOpen=!0},closeProofOfPaymentModal(){this.isProofOfPaymentModalOpen=!1},openProofModalReservation(e){this.selectedProofImage=`https://eduardos-resort.online/backend/backend/public/uploads/${e}`,this.isReservationProofModalOpen=!0},closeReservationProofModal(){this.isReservationProofModalOpen=!1},openProofModal(e){this.selectedProofImage=`https://eduardos-resort.online/backend/backend/public/uploads/${e}`,this.isProofModalOpen=!0},closeProofModal(){this.isProofModalOpen=!1},openModal(e){this.selectedProofImage=`https://eduardos-resort.online/backend/backend/public/uploads/${e}`,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},handleCottageImageUpload(){const e=this.$refs.cottageImageInput,t=e.files[0],o=new FormData;o.append("cottage_image",t),this.cottage_img=o},async saveCottage(e){try{let t={};"add"===e&&(this.cottage_img instanceof FormData?(t=this.cottage_img,t.append("cottage_name",this.cottage_name),t.append("cottage_description",this.cottage_description),t.append("cottage_price",this.cottage_price)):t={cottage_name:this.cottage_name,cottage_description:this.cottage_description,cottage_price:this.cottage_price});await vo.Z.post("/cottages",t);"add"===e&&(this.closeCottageAddModal(),this.cottage_name="",this.cottage_description="",this.cottage_price="",this.getCottages(),this.showNotification("Cottage Added Successfully","success"))}catch(t){console.error(t),this.showNotification("Error adding cottage","error")}},openCottageEditModal(e){this.editedCottage={...e},this.editCottageModalVisible=!0},closeCottageEditModal(){this.editedCottage=null,this.editCottageModalVisible=!1,this.showNotification("Cottage Updated Successfully","success")},async saveCottageEdit(){try{const e=new FormData;e.append("cottage_name",this.editedCottage.cottage_name),e.append("cottage_description",this.editedCottage.cottage_description),e.append("cottage_price",this.editedCottage.cottage_price),this.editedCottage.newImage&&e.append("cottage_image",this.editedCottage.newImage);const t=`/cottages/update/${this.editedCottage.cottage_id}`;await vo.Z.post(t,e,{headers:{"Content-Type":"multipart/form-data"}});this.closeCottageEditModal(),this.getCottages(),this.showNotification("Cottage Updated Successfully","success")}catch(e){console.error("Error updating cottage:",e),this.showNotification("Error updating cottage","error")}},handleEditCottageImageUpload(){const e=this.$refs.editCottageImageInput,t=e.files[0];this.editedCottage.newImage=t},async getCottages(){try{const e=await vo.Z.get("/cottages");this.cottages=e.data}catch(e){console.error("Error fetching cottages:",e)}},showCottageSuccessNotification(e){this.successMessage=e,setTimeout((()=>{this.successMessage=""}),3e3)},openCottageAddModal(){this.addCottageModalVisible=!0},closeCottageAddModal(){this.addCottageModalVisible=!1},async fetchTables(){try{const e=await vo.Z.get("/getTables");this.tables=e.data}catch(e){console.error("Error fetching tables:",e)}},async saveTable(){try{const e={table_name:this.table_name,table_description:this.table_description};await vo.Z.post("/addTable",e),this.closeAddTableModal(),this.fetchTables(),this.showNotification("Table added successfully!","success")}catch(e){console.error("Error saving table:",e)}},async updateTable(){try{const e={table_name:this.editedTable.table_name,table_description:this.editedTable.table_description};await vo.Z.post(`/updateTable/${this.editedTable.table_id}`,e),this.closeEditTableModal(),this.fetchTables(),this.showNotification("Table updated successfully!","success")}catch(e){console.error("Error updating table:",e)}},showNotification(e,t){this.notification.message=e,this.notification.type=t,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),3e3)},openAddTableModal(){this.addTableModalVisible=!0},closeAddTableModal(){this.addTableModalVisible=!1,this.clearTableForm()},openEditTableModal(e){this.editedTable={...e},this.editTableModalVisible=!0},closeEditTableModal(){this.editTableModalVisible=!1},clearTableForm(){this.table_name="",this.table_description=""},async declineCottageBooking(e){try{const t=await vo.Z.post(`api/cottage-bookings/decline/${e}`);200===t.status?(this.showSuccessNotification(`Cottage booking ${e} has been declined.`),this.fetchCottageBookings()):(console.error("Failed to decline cottage booking:",t.data.message),this.showErrorNotification(`Failed to decline booking: ${t.data.message}`))}catch(t){t.response&&400===t.response.status?this.showErrorNotification("Cannot decline a confirmed booking."):(console.error("Error declining cottage booking:",t),this.showErrorNotification("An error occurred while declining the cottage booking."))}},async confirmCottageBooking(e){try{const t=await vo.Z.post(`api/cottage-bookings/confirm/${e}`);200===t.status?(this.showSuccessNotification(`Cottage booking ${e} has been confirmed.`),this.fetchCottageBookings()):(console.error("Failed to confirm cottage booking:",t.data.message),this.showErrorNotification(`Failed to confirm booking: ${t.data.message}`))}catch(t){console.error("Error confirming cottage booking:",t),this.showErrorNotification("An error occurred while confirming the cottage booking.")}},async markCottageBookingAsPaid(e){try{const t=await vo.Z.post(`api/cottage-bookings/mark-paid/${e}`);200===t.status?(this.showSuccessNotification(`Cottage booking ${e} marked as paid.`),this.fetchCottageBookings()):(console.error("Failed to mark cottage booking as paid:",t.data.message),this.showErrorNotification(`Failed to mark booking as paid: ${t.data.message}`))}catch(t){console.error("Error marking cottage booking as paid:",t),this.showErrorNotification("An error occurred while marking the cottage booking as paid.")}},async fetchCottageBookings(){try{const[e,t]=await Promise.all([vo.Z.get("api/cottage-bookings"),vo.Z.get("/getData")]),o=e.data,s=t.data;this.bookings=o.map((e=>{const t=s.find((t=>t.id===e.user_id));return{...e,name:t?t.name:"Unknown User"}}))}catch(e){console.error("Error fetching data:",e),this.errorMessage="Failed to load cottage bookings."}},async fetchReservations(){try{const e=await vo.Z.get("/admin/reservations");this.reservations=e.data}catch(e){console.error("Error fetching reservations:",e),this.errorMessage="Failed to load reservation data."}},openStatusModal(e){this.selectedReservation=e,this.statusToUpdate=e.status,this.statusModalVisible=!0},closeStatusModal(){this.statusModalVisible=!1},async declineReservation(e){try{const t=await vo.Z.post(`reservation/decline/${e}`);200===t.status?(this.showSuccessNotification(`Reservation ${e} has been declined.`),this.fetchReservations()):(console.error("Failed to decline reservation:",t.data.message),this.showErrorNotification(`Failed to decline reservation: ${t.data.message}`))}catch(t){console.error("Error declining reservation:",t),this.showErrorNotification("An error occurred while declining the reservation.")}},async acceptReservation(e){try{const t=await vo.Z.post(`reservation/confirm/${e}`);200===t.status?(this.showSuccessNotification(`Reservation ${e} has been accepted.`),this.fetchReservations()):(console.error("Failed to accept reservation:",t.data.message),this.showErrorNotification(`Failed to accept reservation: ${t.data.message}`))}catch(t){console.error("Error accepting reservation:",t),this.showErrorNotification("An error occurred while accepting the reservation.")}},async markReservationAsPaid(e){try{const t=await vo.Z.post(`reservation/paid/${e}`);200===t.status?(this.showSuccessNotification(`Reservation ${e} Marked as Paid`),this.fetchReservations()):console.error("Failed to mark reservation as paid:",t.data.message)}catch(t){console.error("Error marking reservation as paid:",t)}},showSuccessNotification(e){console.log(`Success: ${e}`)},viewDetails(e){this.selectedReservation=e,this.detailsModalVisible=!0},closeDetailsModal(){this.detailsModalVisible=!1},async fetchMenuItems(){try{const e=await vo.Z.get("/api/menu");this.menuItems=e.data}catch(e){console.error(e)}},openAddItemModal(){this.addModalItemVisible=!0},closeAddItemModal(){this.addModalItemVisible=!1},onFileChange(e){const t=e.target.files[0];t&&(this.item_image=t)},async addMenuItem(){const e=new FormData;e.append("item_name",this.item_name),e.append("item_category",this.item_category),e.append("item_price",this.item_price),this.item_image&&e.append("item_image",this.item_image);try{const t=await vo.Z.post("https://eduardos-resort.online/backend/api/menu",e,{headers:{"Content-Type":"multipart/form-data"}});"success"===t.data.status?(this.showSuccessNotification(t.data.message),this.clearForm(),this.closeAddItemModal(),this.fetchMenuItems()):(console.error("Error from server:",t.data.message,t.data.errors),this.showErrorNotification(t.data.message))}catch(t){console.error("An error occurred:",t),this.handleError(t)}},clearForm(){this.item_name="",this.item_category="",this.item_price="",this.item_image=null},showSuccessNotification(e){this.successMessage=e,setTimeout((()=>{this.successMessage=""}),3e3)},showErrorNotification(e){this.errorMessage=e,setTimeout((()=>{this.errorMessage=""}),5e3)},openEditItemModal(e){if(!e.menu_id)return console.error("Item ID is missing."),void this.showErrorNotification("Item ID is missing.");this.editedMenuItem={menu_id:e.menu_id,item_name:e.item_name,item_category:e.item_category,item_price:e.item_price,item_image:null},console.log("Selected item for editing:",this.editedMenuItem),this.editMenuItemModalVisible=!0},closeMenuItemEditModal(){this.editMenuItemModalVisible=!1,this.editedMenuItem={item_name:"",item_category:"",item_price:"",item_image:null}},handleMenuItemImageUpload(){const e=this.$refs.editMenuItemImageInput,t=e.files[0];t&&(this.editedMenuItem.item_image=t,console.log("Selected image file:",t))},async saveMenuItemEdit(){try{const e=new FormData;e.append("item_name",this.editedMenuItem.item_name),e.append("item_category",this.editedMenuItem.item_category),e.append("item_price",this.editedMenuItem.item_price),this.editedMenuItem.item_image&&e.append("item_image",this.editedMenuItem.item_image);const t=await vo.Z.post(`https://eduardos-resort.online/backend/api/menu/${this.editedMenuItem.menu_id}`,e,{headers:{"Content-Type":"multipart/form-data"}});console.log("Item updated successfully:",t.data),this.showSuccessNotification(t.data.message||"Item updated successfully!"),this.closeMenuItemEditModal(),this.fetchMenuItems()}catch(e){console.error("Error updating item:",e),this.showErrorNotification("Failed to update item.")}},showSuccessNotification(e){this.successMessage=e,setTimeout((()=>this.successMessage=""),3e3)},showErrorNotification(e){this.errorMessage=e,setTimeout((()=>this.errorMessage=""),5e3)},clearForm(){this.currentItem={menu_id:null,item_name:"",item_category:"",item_price:""}},async deleteItem(e){try{await vo.Z.delete(`/api/menu/${e}`),this.successMessage="Item deleted successfully!",this.fetchMenuItems()}catch(t){console.error(t)}},isActive(e){return this.$route.path===e},openAddDateModal(){this.addDateModalVisible=!0},closeAddDateModal(){this.addDateModalVisible=!1},openDatePicker(){this.flatpickrInstance.open()},async logout(){try{const e=await vo.Z.post("/logout");if(200!==e.status)throw new Error("Logout failed");console.log("Logout successful"),sessionStorage.removeItem("token"),sessionStorage.removeItem("id"),localStorage.clear(),this.userInfo={},this.user=[],this.notifications=[],this.eventName="",this.eventTheme="",this.eventDate="",this.manifest="",this.hasBooking=!1,this.feed=[],document.cookie.split(";").forEach((e=>{document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),this.notification={show:!0,type:"success",message:"You have been logged out successfully."},setTimeout((()=>{this.$router.push("/")}),1e3)}catch(e){console.error("Error during logout",e),this.notification={show:!0,type:"error",message:"Logout failed. Please try again."},setTimeout((()=>{this.notification.show=!1}),1e3)}},async getBook(){try{const e=await vo.Z.get("/getbook");this.book=e.data}catch(e){console.error("Error fetching books:",e)}},async markAsPaidByGroup(e){try{const t=await vo.Z.post(`/api/mark-as-paid-group/${e}`);200===t.status?(this.showSuccessNotification(`All bookings in group ${e} marked as Paid`),this.getBook()):console.error("Failed to mark bookings as paid:",t.data.message)}catch(t){console.error("Error marking bookings as paid:",t)}},async acceptBookingByGroup(e){try{const t=await vo.Z.post(`/api/accept-booking-group/${e}`);200===t.status?(this.showSuccessNotification(`All bookings in group ${e} accepted`),this.getBook()):console.error("Failed to accept bookings:",t.data.message)}catch(t){console.error("Error accepting bookings:",t)}},async declineBookingByGroup(e){try{const t=await vo.Z.post(`/api/decline-booking-group/${e}`);200===t.status?(this.showSuccessNotification(`All bookings in group ${e} declined`),this.getBook()):console.error("Failed to decline bookings:",t.data.message)}catch(t){console.error("Error declining bookings:",t)}},toggleDropdown(e){this.openDropdown=this.openDropdown===e?null:e},async declineenrolling(e){try{const t=await vo.Z.post(`/api/decline-enroll/${e}`);200===t.status?(this.showSuccessNotification(`Enrolling ${e} Declined`),this.getenroll(),this.$emit("data-saved")):console.error("Failed to decline enroll:",t.data.message)}catch(t){console.error("Error declining enroll:",t)}},fetchOrdersForAllUsers(){this.loading=!0,vo.Z.get("/api/orders").then((e=>(console.log(e.data),this.orders=e.data.orders,this.orders.filter((e=>"paid"!==e.order_status))))).catch((e=>{console.error("Error fetching orders:",e)})).finally((()=>{this.loading=!1}))},markOrderPaid(e){vo.Z.post(`/api/mark-order-paid/${e}`).then((e=>{console.log("Mark order paid response:",e.data),this.fetchOrdersForAllUsers()})).catch((e=>{console.error("Error marking order as paid:",e.response?e.response.data:e)}))},confirmOrder(e){vo.Z.post(`/api/confirm-order/${e}`).then((e=>{console.log("Confirm order response:",e.data),this.fetchOrdersForAllUsers()})).catch((e=>{console.error("Error confirming order:",e.response?e.response.data:e)}))},declineOrder(e){vo.Z.post(`/api/decline-order/${e}`).then((e=>{console.log("Decline order response:",e.data),this.fetchOrdersForAllUsers()})).catch((e=>{console.error("Error declining order:",e.response?e.response.data:e)}))},openRoomEditModal(e){this.editedRoom={...e},this.editRoomModalVisible=!0},closeRoomEditModal(){this.editedRoom=null,this.editRoomModalVisible=!1},async saveRoomEdit(){try{const e={room_name:this.editedRoom.room_name,price:this.editedRoom.price,downpayment:this.editedRoom.downpayment,description:this.editedRoom.description,room_status:this.editedRoom.room_status},t=`/updateRoom/${this.editedRoom.room_id}`,o=await vo.Z.put(t,e);console.log("Room updated successfully:",o.data),this.closeRoomEditModal(),this.showSuccessNotification("Room Updated Successfully"),this.getRoom()}catch(e){console.error("Error updating room:",e),this.showErrorNotification("Failed to update room")}},openAddRoomModal(){this.addRoomModalVisible=!0},closeAddRoomModal(){this.addRoomModalVisible=!1},handleRoomImageUpload(){const e=this.$refs.roomImageInput,t=e.files[0],o=new FormData;o.append("image",t),this.room_img=o},async saveRoom(){try{const e=this.room_img;e.append("room_name",this.room_name),e.append("price",this.price),e.append("downpayment",this.downpayment),e.append("packs",this.packs),e.append("description",this.description),this.showSuccessNotification("Room Added Successfully");await vo.Z.post("saveRoom",e);this.closeAddRoomModal(),this.room_img="",this.room_name="",this.price="",this.downpayment="",this.packs="",this.description="",this.getRoom(),this.getbook()}catch(e){console.error(e)}},async markthisPaid(e){try{const t=await vo.Z.post(`/mark-this-paid/${e}`);200===t.status?(this.showSuccessNotification(`enrollment ${e} Marked this Paid`),this.$emit("data-saved")):console.error("Failed to mark this paid:",t.data.message)}catch(t){console.error("Error marking this paid:",t)}},initializeDropdowns(){this.$nextTick((()=>{const e=document.querySelectorAll(".dropdown");e.forEach((e=>{const t=e.querySelector(".select"),o=e.querySelector(".caret"),s=e.querySelector(".menu"),a=e.querySelectorAll(".menu li"),i=e.querySelector(".selected");t.addEventListener("click",(()=>{t.classList.toggle("select-clicked"),o.classList.toggle("caret-rotate"),s.classList.toggle("menu-open")})),a.forEach((e=>{e.addEventListener("click",(()=>{i.innerText=e.innerText,t.classList.remove("select-clicked"),o.classList.remove("caret-rotate"),s.classList.remove("menu-open"),a.forEach((e=>{e.classList.remove("active")})),e.classList.add("active")}))}))}))}))},toggleDropdown(e){this.openDropdown=this.openDropdown===e?null:e},toggleDropdown(e){this.openDropdown=this.openDropdown===e?null:e},toggleDropdown(e){this.openDropdown=this.openDropdown===e?null:e},handleDropdownAction(e,t){"Paid"===e?this.markthisPaid(t):"Accept"===e?this.acceptenrolling(t):"Decline"===e&&this.declineenrolling(t),this.openDropdown=null},handleDropdownAction(e,t){"markOrderPaid"===e?this.markOrderPaid(t):"confirmOrder"===e?this.confirmOrder(t):"declineOrder"===e&&this.declineOrder(t),this.openDropdown=null},handleDropdownAction(e,t){"markAsPaid"===e?this.markAsPaidByGroup(t):"acceptBooking"===e?this.acceptBookingByGroup(t):"declineBooking"===e&&this.declineBookingByGroup(t),this.openDropdown=null},showSuccessNotification(e){this.successMessage=e,setTimeout((()=>{this.successMessage=""}),3e3)},async acceptenrolling(e){try{const t=await vo.Z.post(`/accept-enrolling/${e}`);if(200===t.status){const e=t.data.enroll_id;this.showSuccessNotification(`Enrolling ${e} Accepted`),this.getenroll(),this.$emit("data-saved")}else console.error("Failed to accept enrolling:",t.data.message)}catch(t){console.error("Error accepting enrolling:",t)}},async getRoom(){const e=await vo.Z.get("/getRoom");this.room=e.data,this.getBook()},async getenroll(){const e=await vo.Z.get("/getenroll");this.enroll=e.data},async saveDate(){try{const e=await vo.Z.post("https://eduardos-resort.online/backend/saveDate",{swimming_date:this.swimming_date});this.successMessageDate=e.data.message,this.dates.push(this.swimming_date),this.closeAddDateModal(),this.showNotification("Date Added Successfully","success")}catch(e){console.error("Error saving date:",e);const t=e.response?e.response.data.message:"Unknown error occurred.";this.successMessageDate="Failed to save date: "+t}},async getDate(){try{const e=await vo.Z.get("/getDate");e&&200===e.status?e.data&&Array.isArray(e.data)?(this.dates=e.data,this.initFlatpickr()):console.error("Error fetching dates: Response data is empty or not an array"):console.error("Error fetching dates: Invalid response status")}catch(e){console.error("Error fetching dates:",e)}},initFlatpickr(){this.flatpickrInstance=(0,Mo.Z)(this.$refs.datepicker,{dateFormat:"Y-m-d",enable:this.dates,onClose:e=>{this.selectedDate=e[0]}})},navigateToAuditHistory(e){const t=e.shop_id;this.$router.push({name:"auditHistory",params:{shopId:t}})},async getAuditHistory(e){try{const t=await vo.Z.get(`/api/audit/history/${e}`);this.auditHistory=t.data}catch(t){console.error("Error fetching audit history:",t)}},openQuantityModal(e){this.selectedProduct=e,this.quantityToAdd=0,this.quantityModalVisible=!0},closeQuantityModal(){this.selectedProduct=null,this.quantityToAdd=0,this.quantityModalVisible=!1},async addQuantity(){const e={...this.selectedProduct};e.prod_quantity+=parseInt(this.quantityToAdd);await vo.Z.put(`/updateQuantity/${e.shop_id}`,{id:e.id,quantity:this.quantityToAdd});const t=this.infos.findIndex((t=>t.id===e.id));this.infos[t]=e,this.closeQuantityModal(),this.showSuccessNotification("Quantity Updated Successfully"),this.getInfo(),this.$emit("data-saved")},showSuccessNotification(e){this.notification={show:!0,type:"success",message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(e){this.notification={show:!0,type:"error",message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},async getInfo(){try{const e=await vo.Z.get("getDataShop");this.infos=e.data,this.shop=e.data}catch(e){console.log(e)}},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},handleImageUpload(){const e=this.$refs.imageInput,t=e.files[0],o=new FormData;o.append("prod_image",t),this.prod_img=o},async saveShop(e){try{let t={};"add"===e&&(this.prod_img instanceof FormData?(t=this.prod_img,t.append("prod_name",this.prod_name),t.append("prod_quantity",this.prod_quantity),t.append("prod_desc",this.prod_desc),t.append("prod_price",this.prod_price),this.showSuccessNotification("Product Added Successfully")):t={prod_name:this.prod_name,prod_quantity:this.prod_quantity,prod_desc:this.prod_desc,prod_price:this.prod_price});await vo.Z.post("saveShop",t);"add"===e&&(this.closeAddModal(),this.prod_img="",this.prod_name="",this.prod_quantity="",this.prod_desc="",this.prod_price="",this.getInfo())}catch(t){console.error(t)}},openEditModal(e){this.editedInfo={...e},this.editModalVisible=!0},closeEditModal(){this.editedInfo=null,this.editModalVisible=!1,this.showSuccessNotification("Product Updated Successfully")},async saveEdit(){try{const e=new FormData;e.append("prod_name",this.editedInfo.prod_name),e.append("prod_desc",this.editedInfo.prod_desc),e.append("prod_price",this.editedInfo.prod_price),this.editedInfo.newImage&&e.append("prod_img",this.editedInfo.newImage);const t=`/updateShop/${this.editedInfo.shop_id}`,o=await vo.Z.post(t,e,{headers:{"Content-Type":"multipart/form-data"}});console.log("Product updated successfully:",o.data),this.closeEditModal(),this.showSuccessNotification("Product Updated Successfully"),this.getInfo(),this.$emit("data-saved")}catch(e){console.error("Error updating product:",e)}},handleEditImageUpload(){const e=this.$refs.editImageInput,t=e.files[0];this.editedInfo.newImage=t}}},Co=o(89);const Eo=(0,Co.Z)(Io,[["render",wo],["__scopeId","data-v-26235fc3"]]);var Do=Eo},2894:function(e,t,o){e.exports=o.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=783.8b9ef1c7.js.map