"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[491],{5491:function(t,e,i){i.r(e),i.d(e,{default:function(){return Ge}});var a=i(3396),o=i(7139),s=i(9242);const n=t=>((0,a.dD)("data-v-624c1cd2"),t=t(),(0,a.Cn)(),t),l={class:"main-content"},d=["src"],c=n((()=>(0,a._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),r=n((()=>(0,a._)("span",null,"Business Dashboard",-1))),m=n((()=>(0,a._)("summary",null,[(0,a._)("i",{class:"fa-solid fa-chart-line"}),(0,a.Uk)(" Inventory Options ")],-1))),f={class:"dropdown-menu"},u=n((()=>(0,a._)("i",{class:"fa-solid fa-chart-line"},null,-1))),_=n((()=>(0,a._)("span",null,"Room Inventory",-1))),h=n((()=>(0,a._)("i",{class:"fa-solid fa-chart-line"},null,-1))),p=n((()=>(0,a._)("span",null,"Shop Inventory",-1))),y=n((()=>(0,a._)("i",{class:"fa-solid fa-chart-line"},null,-1))),b=n((()=>(0,a._)("span",null,"Restaurant Reservations",-1))),g=n((()=>(0,a._)("i",{class:"fa-solid fa-chart-line"},null,-1))),w=n((()=>(0,a._)("span",null,"Enrollment Inventory",-1))),A=n((()=>(0,a._)("i",{class:"fa-solid fa-people-group"},null,-1))),S=n((()=>(0,a._)("span",null,"Team",-1))),v=n((()=>(0,a._)("i",{class:"fas fa-user"},null,-1))),k=n((()=>(0,a._)("span",null,"Users",-1))),M=n((()=>(0,a._)("i",{class:"fa-solid fa-table-columns"},null,-1))),C=n((()=>(0,a._)("span",null,"POS",-1))),N={class:"header"},E=n((()=>(0,a._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),D=n((()=>(0,a._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),V=[D],U=n((()=>(0,a._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),x={class:"card-main"},R={class:"content"},Z={class:"row"},F={class:"content-wrapper"},I={class:"content"},q={class:"card card-default"},$={class:"card-header"},z=n((()=>(0,a._)("h2",null,"Staff List",-1))),W={class:"card-body"},T={class:"table-responsive"},H={class:"table"},Y=n((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"ID"),(0,a._)("th",null,"Image"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Email"),(0,a._)("th",null,"Contact Number"),(0,a._)("th",null,"Action")])],-1))),O=["onClick"],K=["onClick"],B={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},L={class:"modal-dialog modal-dialog-centered",role:"document"},P={class:"modal-content"},j={class:"modal-header"},G=n((()=>(0,a._)("h5",{class:"modal-title"},"Confirm Delete",-1))),J=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),Q=[J],X=n((()=>(0,a._)("div",{class:"modal-body"},[(0,a._)("p",null,"Are you sure you want to delete this staff member?")],-1))),tt={class:"modal-footer"},et={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},it={class:"modal-dialog modal-dialog-centered",role:"document"},at={class:"modal-content"},ot={class:"modal-header"},st=n((()=>(0,a._)("h5",{class:"modal-title"},"Add Staff",-1))),nt=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),lt=[nt],dt={class:"modal-body"},ct={class:"form-group"},rt=n((()=>(0,a._)("label",{for:"staff_image"},"Staff Image",-1))),mt={class:"form-group"},ft=n((()=>(0,a._)("label",{for:"staff_name"},"Staff Name",-1))),ut={class:"form-group"},_t=n((()=>(0,a._)("label",{for:"staff_email"},"Staff Email",-1))),ht={class:"form-group"},pt=n((()=>(0,a._)("label",{for:"contactNum"},"Contact Number",-1))),yt={class:"modal-footer"},bt=n((()=>(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Save Staff",-1))),gt={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},wt={class:"modal-dialog modal-dialog-centered",role:"document"},At={class:"modal-content"},St={class:"modal-header"},vt=n((()=>(0,a._)("h5",{class:"modal-title"},"Edit Staff",-1))),kt=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),Mt=[kt],Ct={class:"modal-body"},Nt={class:"form-group"},Et=n((()=>(0,a._)("label",{for:"staff_name"},"Staff Name",-1))),Dt={class:"form-group"},Vt=n((()=>(0,a._)("label",{for:"staff_email"},"Staff Email",-1))),Ut={class:"form-group"},xt=n((()=>(0,a._)("label",{for:"contactNum"},"Contact Number",-1))),Rt={class:"modal-footer"},Zt=n((()=>(0,a._)("button",{type:"submit",class:"btn btn-primary"},"Save Changes",-1))),Ft=n((()=>(0,a._)("h2",null,"Assign Amenities to Rooms",-1))),It=n((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Room Name"),(0,a._)("th",null,"Select Amenities"),(0,a._)("th",null,"Assigned Amenities")])],-1))),qt={class:"dropdown"},$t=["onClick"],zt={key:0,class:"dropdown-content"},Wt=["id","value","checked","onChange"],Tt=["for"],Ht={class:"row"},Yt={class:"col-12"},Ot={class:"card card-default"},Kt={class:"card-header"},Bt=n((()=>(0,a._)("h2",null,"Amenities Inventory",-1))),Lt={class:"card-body"},Pt={class:"table-responsive"},jt={id:"amenitiesTable",class:"table table-hover",style:{width:"100%"}},Gt=n((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Amenity Name"),(0,a._)("th",null,"Description"),(0,a._)("th",null,"Stocks"),(0,a._)("th",null,"Action")])],-1))),Jt={class:"action-buttons"},Qt=["onClick"],Xt=["onClick"],te=["onClick"],ee=["onClick"],ie={key:0,class:"alert alert-success",role:"alert"},ae={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},oe={class:"modal-dialog modal-dialog-centered",role:"document"},se={class:"modal-content"},ne={class:"modal-header"},le=n((()=>(0,a._)("h5",{class:"modal-title"},"Edit Amenity",-1))),de=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),ce=[de],re={class:"modal-body"},me={class:"form-group"},fe=n((()=>(0,a._)("label",{for:"edit_amenity_name"},"Amenity Name",-1))),ue={class:"form-group"},_e=n((()=>(0,a._)("label",{for:"edit_amenity_desc"},"Amenity Description",-1))),he={class:"modal-footer"},pe=n((()=>(0,a._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),ye={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},be={class:"modal-dialog modal-dialog-centered",role:"document"},ge={class:"modal-content"},we={class:"modal-header"},Ae=n((()=>(0,a._)("h5",{class:"modal-title"},"Add Stock",-1))),Se=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),ve=[Se],ke={class:"modal-body"},Me={class:"form-group"},Ce=n((()=>(0,a._)("label",{for:"stock_amount"},"Stock Amount",-1))),Ne={class:"modal-footer"},Ee=n((()=>(0,a._)("button",{type:"submit",class:"btn btn-custom"},"Add Stock",-1))),De={key:2,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Ve={class:"modal-dialog modal-dialog-centered",role:"document"},Ue={class:"modal-content"},xe={class:"modal-header"},Re=n((()=>(0,a._)("h5",{class:"modal-title"},"Add Amenity",-1))),Ze=n((()=>(0,a._)("span",{"aria-hidden":"true"},"×",-1))),Fe=[Ze],Ie={class:"modal-body"},qe={class:"form-group"},$e=n((()=>(0,a._)("label",{for:"new_amenity_name"},"Amenity Name",-1))),ze={class:"form-group"},We=n((()=>(0,a._)("label",{for:"new_amenity_desc"},"Amenity Description",-1))),Te={class:"modal-footer"},He=n((()=>(0,a._)("button",{type:"submit",class:"btn btn-custom"},"Add Amenity",-1))),Ye={key:3,class:"alert alert-success",role:"alert"};function Oe(t,e,n,D,J,nt){const kt=(0,a.up)("router-link"),de=(0,a.up)("Notification");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",l,[(0,a._)("div",{class:(0,o.C_)(["sidebar",{collapsed:J.isSidebarCollapsed}])},[(0,a._)("img",{src:i(2894),alt:"Mono",class:"logo"},null,8,d),(0,a.Wm)(kt,{to:"/admin2"},{default:(0,a.w5)((()=>[c,r])),_:1}),(0,a._)("details",null,[m,(0,a._)("div",f,[(0,a.Wm)(kt,{to:"/analytics2"},{default:(0,a.w5)((()=>[u,_])),_:1}),(0,a.Wm)(kt,{to:"/shopinventory"},{default:(0,a.w5)((()=>[h,p])),_:1}),(0,a.Wm)(kt,{to:"/reservations"},{default:(0,a.w5)((()=>[y,b])),_:1}),(0,a.Wm)(kt,{to:"/enrollment"},{default:(0,a.w5)((()=>[g,w])),_:1})])]),(0,a.Wm)(kt,{to:"/teamadmin2"},{default:(0,a.w5)((()=>[A,S])),_:1}),(0,a.Wm)(kt,{to:"/monitorusers2"},{default:(0,a.w5)((()=>[v,k])),_:1}),(0,a.Wm)(kt,{to:"/pos2"},{default:(0,a.w5)((()=>[M,C])),_:1})],2),(0,a._)("div",N,[E,(0,a._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...t)=>nt.toggleSidebar&&nt.toggleSidebar(...t))},V),(0,a._)("button",{onClick:e[1]||(e[1]=(...t)=>nt.logout&&nt.logout(...t)),class:"btn btn-custom logout-logo-btn"},[U,(0,a.Uk)(" Logout ")])]),(0,a._)("div",x,[(0,a._)("div",R,[(0,a._)("div",Z,[(0,a._)("div",F,[(0,a._)("div",I,[(0,a._)("div",q,[(0,a._)("div",$,[z,(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=(...t)=>nt.openAddModal&&nt.openAddModal(...t))},"Add Staff")]),(0,a._)("div",W,[(0,a._)("div",T,[(0,a._)("table",H,[Y,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(J.staff,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,o.zw)(t.staff_id),1),(0,a._)("td",null,(0,o.zw)(t.staff_image),1),(0,a._)("td",null,(0,o.zw)(t.staff_name),1),(0,a._)("td",null,(0,o.zw)(t.staff_email),1),(0,a._)("td",null,(0,o.zw)(t.contactNum),1),(0,a._)("td",null,[(0,a._)("button",{class:"edit-btn",onClick:e=>nt.openStaffEditModal(t)},"Edit",8,O),(0,a.Uk)(" | "),(0,a._)("button",{class:"edit-btn",onClick:e=>nt.hidestaff(t.staff_id)},"Hide",8,K)])])))),128))])])])])])])]),J.deleteConfirmationVisible?((0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",L,[(0,a._)("div",P,[(0,a._)("div",j,[G,(0,a._)("button",{type:"button",class:"close",onClick:e[3]||(e[3]=(...t)=>nt.cancelDelete&&nt.cancelDelete(...t))},Q)]),X,(0,a._)("div",tt,[(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=(...t)=>nt.cancelDelete&&nt.cancelDelete(...t))},"Cancel"),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>nt.deleteStaffConfirmed&&nt.deleteStaffConfirmed(...t))},"Delete")])])])])):(0,a.kq)("",!0),J.addModalVisible?((0,a.wg)(),(0,a.iD)("div",et,[(0,a._)("div",it,[(0,a._)("div",at,[(0,a._)("div",ot,[st,(0,a._)("button",{type:"button",class:"close",onClick:e[6]||(e[6]=(...t)=>nt.closeAddModal&&nt.closeAddModal(...t))},lt)]),(0,a._)("div",dt,[(0,a._)("form",{onSubmit:e[12]||(e[12]=(0,s.iM)((t=>nt.saveStaff("add")),["prevent"]))},[(0,a._)("div",ct,[rt,(0,a._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>nt.handleStaffImageUpload&&nt.handleStaffImageUpload(...t)),accept:"image/*",required:""},null,32)]),(0,a._)("div",mt,[ft,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[8]||(e[8]=t=>J.staff_name=t),required:""},null,512),[[s.nr,J.staff_name]])]),(0,a._)("div",ut,[_t,(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[9]||(e[9]=t=>J.staff_email=t),required:""},null,512),[[s.nr,J.staff_email]])]),(0,a._)("div",ht,[pt,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[10]||(e[10]=t=>J.contactNum=t),required:""},null,512),[[s.nr,J.contactNum]])]),(0,a._)("div",yt,[(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:e[11]||(e[11]=(...t)=>nt.closeAddModal&&nt.closeAddModal(...t))},"Close"),bt])],32)])])])])):(0,a.kq)("",!0)]),J.editStaffModalVisible?((0,a.wg)(),(0,a.iD)("div",gt,[(0,a._)("div",wt,[(0,a._)("div",At,[(0,a._)("div",St,[vt,(0,a._)("button",{type:"button",class:"close",onClick:e[13]||(e[13]=(...t)=>nt.closeStaffEditModal&&nt.closeStaffEditModal(...t))},Mt)]),(0,a._)("div",Ct,[(0,a._)("form",{onSubmit:e[18]||(e[18]=(0,s.iM)(((...t)=>nt.saveStaffEdit&&nt.saveStaffEdit(...t)),["prevent"]))},[(0,a._)("div",Nt,[Et,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[14]||(e[14]=t=>J.editedStaff.staff_name=t)},null,512),[[s.nr,J.editedStaff.staff_name]])]),(0,a._)("div",Dt,[Vt,(0,a.wy)((0,a._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[15]||(e[15]=t=>J.editedStaff.staff_email=t)},null,512),[[s.nr,J.editedStaff.staff_email]])]),(0,a._)("div",Ut,[xt,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[16]||(e[16]=t=>J.editedStaff.contactNum=t)},null,512),[[s.nr,J.editedStaff.contactNum]])]),(0,a._)("div",Rt,[(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:e[17]||(e[17]=(...t)=>nt.closeStaffEditModal&&nt.closeStaffEditModal(...t))},"Close"),Zt])],32)])])])])):(0,a.kq)("",!0)])]),(0,a._)("div",null,[Ft,(0,a._)("table",null,[It,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(J.rooms,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.room_id},[(0,a._)("td",null,(0,o.zw)(t.room_name),1),(0,a._)("td",null,[(0,a._)("div",qt,[(0,a._)("button",{class:"dropdown-button",onClick:e=>nt.toggleDropdown(t.room_id)}," Select Amenities ",8,$t),nt.isDropdownOpen(t.room_id)?((0,a.wg)(),(0,a.iD)("div",zt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(J.amenities,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.amenity_id},[(0,a._)("input",{type:"checkbox",id:`dropdown-amenity-${t.room_id}-${e.amenity_id}`,value:e.amenity_id,checked:t.amenities.includes(e.amenity_id),onChange:i=>nt.toggleAmenity(t.room_id,e.amenity_id)},null,40,Wt),(0,a._)("label",{for:`dropdown-amenity-${t.room_id}-${e.amenity_id}`},(0,o.zw)(e.amenity_name),9,Tt)])))),128))])):(0,a.kq)("",!0)])]),(0,a._)("td",null,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.assignedAmenities,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t.amenity_id},(0,o.zw)(t.amenity_name),1)))),128))])])])))),128))])]),(0,a.Wm)(de,{show:J.notification.show,type:J.notification.type,message:J.notification.message},null,8,["show","type","message"])]),(0,a._)("div",Ht,[(0,a._)("div",Yt,[(0,a._)("div",Ot,[(0,a._)("div",Kt,[Bt,(0,a._)("button",{type:"button",class:"btn btn-custom",onClick:e[19]||(e[19]=(...t)=>nt.openAddAmenitiesModal&&nt.openAddAmenitiesModal(...t))}," Add Amenity ")]),(0,a._)("div",Lt,[(0,a._)("div",Pt,[(0,a._)("table",jt,[Gt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(J.amenities,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:t.amenity_id},[(0,a._)("td",null,(0,o.zw)(t.amenity_name),1),(0,a._)("td",null,(0,o.zw)(t.description),1),(0,a._)("td",null,(0,o.zw)(t.stock),1),(0,a._)("td",Jt,[(0,a._)("button",{class:"btn btn-custom",onClick:e=>nt.openAddStockModal(t)},"Add Stock",8,Qt),(0,a._)("button",{class:"btn btn-custom",onClick:e=>nt.openEditAmenitiesModal(t)},"Edit",8,Xt),(0,a._)("button",{class:"btn btn-danger",onClick:e=>nt.deleteAmenity(t.amenity_id)},"Delete",8,te),(0,a._)("button",{class:"btn btn-info",onClick:e=>nt.goToAudit(t.amenity_id)},"View Audit",8,ee)])])))),128))])])]),J.successMessage?((0,a.wg)(),(0,a.iD)("div",ie,(0,o.zw)(J.successMessage),1)):(0,a.kq)("",!0)])])]),J.editAmenitiesModalVisible?((0,a.wg)(),(0,a.iD)("div",ae,[(0,a._)("div",oe,[(0,a._)("div",se,[(0,a._)("div",ne,[le,(0,a._)("button",{type:"button",class:"close",onClick:e[20]||(e[20]=(...t)=>nt.closeEditAmenitiesModal&&nt.closeEditAmenitiesModal(...t))},ce)]),(0,a._)("div",re,[(0,a._)("form",{onSubmit:e[24]||(e[24]=(0,s.iM)(((...t)=>nt.saveEditAmenities&&nt.saveEditAmenities(...t)),["prevent"]))},[(0,a._)("div",me,[fe,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[21]||(e[21]=t=>J.editedAmenity.amenity_name=t)},null,512),[[s.nr,J.editedAmenity.amenity_name]])]),(0,a._)("div",ue,[_e,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[22]||(e[22]=t=>J.editedAmenity.description=t)},null,512),[[s.nr,J.editedAmenity.description]])]),(0,a._)("div",he,[(0,a._)("button",{type:"button",class:"btn btn-custom",style:{background:"#0F172B",border:"none"},onClick:e[23]||(e[23]=(...t)=>nt.closeEditAmenitiesModal&&nt.closeEditAmenitiesModal(...t))}," Close "),pe])],32)])])])])):(0,a.kq)("",!0),J.addStockModalVisible?((0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("div",be,[(0,a._)("div",ge,[(0,a._)("div",we,[Ae,(0,a._)("button",{type:"button",class:"close",onClick:e[25]||(e[25]=(...t)=>nt.closeAddStockModal&&nt.closeAddStockModal(...t))},ve)]),(0,a._)("div",ke,[(0,a._)("form",{onSubmit:e[28]||(e[28]=(0,s.iM)(((...t)=>nt.saveAddStock&&nt.saveAddStock(...t)),["prevent"]))},[(0,a._)("div",Me,[Ce,(0,a.wy)((0,a._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[26]||(e[26]=t=>J.newStock.amount=t),min:"1",required:""},null,512),[[s.nr,J.newStock.amount]])]),(0,a._)("div",Ne,[(0,a._)("button",{type:"button",class:"btn btn-custom",onClick:e[27]||(e[27]=(...t)=>nt.closeAddStockModal&&nt.closeAddStockModal(...t))},"Close"),Ee])],32)])])])])):(0,a.kq)("",!0),J.addAmenitiesModalVisible?((0,a.wg)(),(0,a.iD)("div",De,[(0,a._)("div",Ve,[(0,a._)("div",Ue,[(0,a._)("div",xe,[Re,(0,a._)("button",{type:"button",class:"close",onClick:e[29]||(e[29]=(...t)=>nt.closeAddAmenitiesModal&&nt.closeAddAmenitiesModal(...t))},Fe)]),(0,a._)("div",Ie,[(0,a._)("form",{onSubmit:e[33]||(e[33]=(0,s.iM)(((...t)=>nt.saveAddAmenities&&nt.saveAddAmenities(...t)),["prevent"]))},[(0,a._)("div",qe,[$e,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[30]||(e[30]=t=>J.newAmenity.amenity_name=t)},null,512),[[s.nr,J.newAmenity.amenity_name]])]),(0,a._)("div",ze,[We,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[31]||(e[31]=t=>J.newAmenity.description=t)},null,512),[[s.nr,J.newAmenity.description]])]),(0,a._)("div",Te,[(0,a._)("button",{type:"button",class:"btn btn-custom",style:{background:"#0F172B",border:"none"},onClick:e[32]||(e[32]=(...t)=>nt.closeAddAmenitiesModal&&nt.closeAddAmenitiesModal(...t))}," Close "),He])],32)])])])])):(0,a.kq)("",!0),J.successMessage?((0,a.wg)(),(0,a.iD)("div",Ye,(0,o.zw)(J.successMessage),1)):(0,a.kq)("",!0)])]),(0,a.Wm)(de,{show:J.notification.show,type:J.notification.type,message:J.notification.message},null,8,["show","type","message"])],64)}i(560);var Ke=i(9754),Be=i(1076),Le={name:"YourComponentName",components:{Notification:Ke.Z},data(){return{addStockModalVisible:!1,newStock:{amount:0},amenities:[],newAmenity:{amenity_name:"",description:""},editedAmenity:{},addAmenitiesModalVisible:!1,editAmenitiesModalVisible:!1,notification:{show:!1,type:"",message:""},rooms:[],amenities:[],newAmenity:{name:"",description:""},notification:{show:!1,type:"",message:""},openDropdowns:{},isSidebarCollapsed:!1,staff:[],addModalVisible:!1,staff_image:"",staff_name:"",staff_email:"",contactNum:"",successMessage:"",notification:{show:!1,type:"",message:""},editStaffModalVisible:!1,editedStaff:null,deleteConfirmationVisible:!1}},mounted(){this.getStaff(),this.fetchRoomsAndAmenities()},methods:{goToAudit(t){this.$router.push({name:"AmenitiesAudit",params:{amenityId:t}})},openAddStockModal(t){this.newStock.amount=0,this.editedAmenity=t,this.addStockModalVisible=!0},closeAddStockModal(){this.addStockModalVisible=!1},async saveAddStock(){try{const t=await Be.Z.post(`/api/amenities/${this.editedAmenity.amenity_id}/stock`,this.newStock);if("success"!==t.data.status)throw new Error(t.data.message||"Unknown error occurred");this.fetchAmenities(),this.closeAddStockModal(),this.showNotification("success",t.data.message)}catch(t){console.error("Error adding stock:",t),this.showNotification("error",t.response?.data?.message||"Failed to add stock")}},async fetchAmenities(){try{const t=await Be.Z.get("/api/amenities");this.amenities=t.data}catch(t){console.error("Error fetching amenities:",t),this.showNotification("error","Error fetching amenities")}},openAddAmenitiesModal(){this.newAmenity={amenity_name:"",description:""},this.addAmenitiesModalVisible=!0},closeAddAmenitiesModal(){this.addAmenitiesModalVisible=!1},async saveAddAmenities(){try{const t=await Be.Z.post("/api/amenities",this.newAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeAddAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error adding amenity:",t),this.showNotification("error","Error adding amenity")}},openEditAmenitiesModal(t){this.editedAmenity={...t},this.editAmenitiesModalVisible=!0},closeEditAmenitiesModal(){this.editAmenitiesModalVisible=!1},async saveEditAmenities(){try{const t=await Be.Z.put(`/api/amenities/${this.editedAmenity.amenity_id}`,this.editedAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeEditAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error updating amenity:",t),this.showNotification("error","Error updating amenity")}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},async deleteAmenity(t){try{const e=await Be.Z.delete(`/api/amenities/${t}`);"success"===e.data.status?(this.fetchAmenities(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete amenity.")}catch(e){console.error("Error deleting amenity:",e),this.showNotification("error","Error deleting amenity: "+e.message)}},fetchRoomsAndAmenities(){Be.Z.get("/getRoom").then((t=>{console.log("Rooms data:",t.data),this.rooms=t.data.map((t=>({...t,amenities:t.amenities?t.amenities.map((t=>t.amenity_id)):[],assignedAmenities:[]}))),this.rooms.forEach((t=>this.getAmenitiesForRoom(t.room_id)))})).catch((t=>{console.error("Error fetching rooms:",t)})),Be.Z.get("/getAllAmenities").then((t=>{console.log("Amenities data:",t.data),this.amenities=t.data})).catch((t=>{console.error("Error fetching amenities:",t)}))},toggleAmenity(t,e){const i=this.rooms.find((e=>e.room_id===t)),a=i.amenities.indexOf(e);a>-1?i.amenities.splice(a,1):i.amenities.push(e),this.updateRoomAmenities(t,i.amenities)},updateRoomAmenities(t,e){Be.Z.post(`/assignAmenitiesToRoom/${t}`,{amenities:e}).then((e=>{"success"!==e.data.status?this.showNotification("error","Failed to update amenities"):this.getAmenitiesForRoom(t)})).catch((t=>{console.error("Error updating room amenities:",t),this.showNotification("error","Failed to update amenities")}))},addAmenity(){const t={amenity_name:this.newAmenity.name,description:this.newAmenity.description};Be.Z.post("/addAmenity",t).then((t=>{"success"===t.data.status?(this.fetchRoomsAndAmenities(),this.newAmenity.name="",this.newAmenity.description="",this.showNotification("success","Amenity added successfully")):this.showNotification("error","Failed to add amenity")})).catch((t=>{console.error("Error adding amenity:",t),this.showNotification("error","Failed to add amenity")}))},showNotification(t,e){this.notification={show:!0,type:t,message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},toggleDropdown(t){this.openDropdowns={...this.openDropdowns,[t]:!this.openDropdowns[t]}},isDropdownOpen(t){return!!this.openDropdowns[t]},getAmenitiesForRoom(t){Be.Z.get(`/getAmenitiesForRoom/${t}`).then((e=>{console.log("Amenities response:",e.data);const i=this.rooms.find((e=>e.room_id===t));i&&(i.assignedAmenities=e.data)})).catch((t=>{console.error("Error fetching amenities for room:",t)}))},toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed},async logout(){try{const t=await Be.Z.post("/logout");200===t.status&&(console.log("Logout successful"),sessionStorage.removeItem("token"),this.$router.push("/"))}catch(t){console.error("Error during logout",t)}},async hidestaff(t){const e=window.confirm("Do you want to HIDE this item?");if(e)try{await Be.Z.post(`/api/staffback/hide/${t}`),this.staff=this.staff.map((e=>e.staff_id===t?{...e,is_hidden:1}:e)),console.log("staffback hidden successfully")}catch(i){console.error("Error hiding staffback:",i)}},confirmDeleteStaff(t){this.editedStaff={...t},this.deleteConfirmationVisible=!0},cancelDelete(){this.editedStaff=null,this.deleteConfirmationVisible=!1},async deleteStaffConfirmed(){try{const t=`/deleteStaff/${this.editedStaff.staff_id}`,e=await Be.Z.delete(t);console.log("Staff deleted successfully:",e.data),this.cancelDelete(),this.showSuccessNotification("Staff Deleted Successfully"),this.getStaff()}catch(t){console.error("Error deleting staff:",t),this.showErrorNotification("Failed to delete staff")}},openStaffEditModal(t){this.editedStaff={...t},this.editStaffModalVisible=!0},closeStaffEditModal(){this.editedStaff=null,this.editStaffModalVisible=!1},async saveStaffEdit(){try{const t={staff_name:this.editedStaff.staff_name,staff_email:this.editedStaff.staff_email,contactNum:this.editedStaff.contactNum},e=`/updateStaff/${this.editedStaff.staff_id}`,i=await Be.Z.put(e,t);console.log("Staff updated successfully:",i.data),this.closeStaffEditModal(),this.showSuccessNotification("Staff Updated Successfully"),this.getStaff()}catch(t){console.error("Error updating staff:",t),this.showErrorNotification("Failed to update staff")}},showSuccessNotification(t){this.notification={show:!0,type:"success",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(t){this.notification={show:!0,type:"error",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},async saveStaff(t){try{let e={};"add"===t&&(this.staff_image instanceof FormData?(e=this.staff_image,e.append("staff_name",this.staff_name),e.append("staff_email",this.staff_email),e.append("contactNum",this.contactNum)):e={staff_name:this.staff_name,staff_email:this.staff_email,contactNum:this.contactNum});await Be.Z.post("saveStaff",e);"add"===t&&(this.closeAddModal(),this.staff_image="",this.staff_name="",this.staff_email="",this.contactNum="",this.showSuccessNotification("Staff Added Successfully"),this.getStaff())}catch(e){console.error(e)}},async getStaff(){const t=await Be.Z.get("/getStaff");this.staff=t.data},handleStaffImageUpload(t){const e=t.target.files[0],i=new FormData;i.append("staff_image",e),this.staff_image=i}}},Pe=i(89);const je=(0,Pe.Z)(Le,[["render",Oe],["__scopeId","data-v-624c1cd2"]]);var Ge=je},2894:function(t,e,i){t.exports=i.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=491.b8356e10.js.map