"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[132],{5132:function(t,e,o){o.r(e),o.d(e,{default:function(){return Bo}});var i=o(3396),a=o(7139),s=o(9242);const n=t=>((0,i.dD)("data-v-7988b9cd"),t=t(),(0,i.Cn)(),t),l={class:"main-content"},d=["src"],c=n((()=>(0,i._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),r=n((()=>(0,i._)("span",null,"Business Dashboard",-1))),m=n((()=>(0,i._)("summary",{class:"inventory-summary"},[(0,i._)("i",{style:{padding:"10px",margin:"0"},class:"fa-solid fa-table"}),(0,i._)("span",{style:{padding:"0",margin:"0"},class:"dropdown-icon"},"▾"),(0,i._)("span",{style:{padding:"0",margin:"0"}},"Inventory Options")],-1))),u={class:"dropdown-menu"},f=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-house"},null,-1))),_=n((()=>(0,i._)("span",null,"Room Inventory",-1))),h=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),y=n((()=>(0,i._)("span",null,"Shop Inventory",-1))),p=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),b=n((()=>(0,i._)("span",null,"Cottage Inventory",-1))),g=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-utensils"},null,-1))),v=n((()=>(0,i._)("span",null,"Restaurant Reservations",-1))),w=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-person-swimming"},null,-1))),A=n((()=>(0,i._)("span",null,"Enrollment Inventory",-1))),k=n((()=>(0,i._)("i",{class:"fa-solid fa-people-group"},null,-1))),S=n((()=>(0,i._)("span",null,"Team",-1))),M=n((()=>(0,i._)("i",{class:"fas fa-user"},null,-1))),C=n((()=>(0,i._)("span",null,"Users",-1))),E=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),N=n((()=>(0,i._)("span",null,"POS",-1))),I=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),D=n((()=>(0,i._)("span",null,"History",-1))),V={class:"header"},x=n((()=>(0,i._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),q=n((()=>(0,i._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),U=[q],Z=n((()=>(0,i._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),R={class:"card-main"},F={class:"content"},$={class:"row"},z={class:"content-wrapper"},W={class:"content"},H={class:"card card-default"},T={class:"card-header"},Y=n((()=>(0,i._)("h2",null,"Staff List",-1))),K={class:"card-body"},O={class:"table-responsive"},L={class:"table-product"},Q=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Image"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Contact Number"),(0,i._)("th",null,"Action")])],-1))),B=["onClick"],P=["onClick"],j={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},G={class:"modal-dialog modal-dialog-centered",role:"document"},J={class:"modal-content"},X={class:"modal-header"},tt=n((()=>(0,i._)("h5",{class:"modal-title"},"Confirm Delete",-1))),et=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),ot=[et],it=n((()=>(0,i._)("div",{class:"modal-body"},[(0,i._)("p",null,"Are you sure you want to delete this staff member?")],-1))),at={class:"modal-footer"},st={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},nt={class:"modal-dialog modal-dialog-centered",role:"document"},lt={class:"modal-content"},dt={class:"modal-header"},ct=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Staff",-1))),rt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),mt=[rt],ut={class:"modal-body"},ft={class:"form-group"},_t=n((()=>(0,i._)("label",{for:"staff_image"},"Staff Image",-1))),ht={class:"form-group"},yt=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),pt={class:"form-group"},bt=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),gt={class:"form-group"},vt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),wt={class:"modal-footer"},At=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Staff",-1))),kt={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},St={class:"modal-dialog modal-dialog-centered",role:"document"},Mt={class:"modal-content"},Ct={class:"modal-header"},Et=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Staff",-1))),Nt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),It=[Nt],Dt={class:"modal-body"},Vt={class:"form-group"},xt=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),qt={class:"form-group"},Ut=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),Zt={class:"form-group"},Rt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),Ft={class:"modal-footer"},$t=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),zt={class:"row"},Wt={class:"content-wrapper"},Ht={class:"content"},Tt={class:"card card-default"},Yt=n((()=>(0,i._)("div",{class:"card-header"},[(0,i._)("h2",null,"Assign Amenities to Rooms")],-1))),Kt={class:"card-body"},Ot={class:"table-responsive"},Lt={class:"table table-product"},Qt=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Room Name"),(0,i._)("th",null,"Select Amenities"),(0,i._)("th",null,"Assigned Amenities")])],-1))),Bt={class:"dropdown"},Pt=["onClick"],jt={key:0,class:"dropdown-content"},Gt=["id","value","checked","onChange"],Jt=["for"],Xt={class:"row"},te={class:"col-12"},ee={class:"card card-default"},oe={class:"card-header"},ie=n((()=>(0,i._)("h2",null,"Amenities Inventory",-1))),ae={class:"card-body"},se={class:"table-responsive"},ne={id:"amenitiesTable",class:"table table-product"},le=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Amenity Name"),(0,i._)("th",null,"Description"),(0,i._)("th",null,"Stocks"),(0,i._)("th",null,"Action")])],-1))),de={class:"action-buttons"},ce=["onClick"],re=["onClick"],me=["onClick"],ue=["onClick"],fe={key:0,class:"alert alert-success",role:"alert"},_e={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},he={class:"modal-dialog modal-dialog-centered",role:"document"},ye={class:"modal-content"},pe={class:"modal-header"},be=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Amenity",-1))),ge=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),ve=[ge],we={class:"modal-body"},Ae={class:"form-group"},ke=n((()=>(0,i._)("label",{for:"edit_amenity_name"},"Amenity Name",-1))),Se={class:"form-group"},Me=n((()=>(0,i._)("label",{for:"edit_amenity_desc"},"Amenity Description",-1))),Ce={class:"modal-footer"},Ee=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),Ne={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Ie={class:"modal-dialog modal-dialog-centered",role:"document"},De={class:"modal-content"},Ve={class:"modal-header"},xe=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Stock",-1))),qe=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Ue=[qe],Ze={class:"modal-body"},Re={class:"form-group"},Fe=n((()=>(0,i._)("label",{for:"stock_amount"},"Stock Amount",-1))),$e={class:"modal-footer"},ze=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Stock",-1))),We={key:2,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},He={class:"modal-dialog modal-dialog-centered",role:"document"},Te={class:"modal-content"},Ye={class:"modal-header"},Ke=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Amenity",-1))),Oe=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Le=[Oe],Qe={class:"modal-body"},Be={class:"form-group"},Pe=n((()=>(0,i._)("label",{for:"new_amenity_name"},"Amenity Name",-1))),je={class:"form-group"},Ge=n((()=>(0,i._)("label",{for:"new_amenity_desc"},"Amenity Description",-1))),Je={class:"modal-footer"},Xe=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Amenity",-1))),to={key:3,class:"alert alert-success",role:"alert"},eo={class:"row"},oo={class:"content-wrapper"},io={class:"content"},ao={class:"card card-default"},so={class:"card-header"},no=n((()=>(0,i._)("h2",null,"Inventory List",-1))),lo={class:"card-body"},co={class:"table-responsive"},ro={class:"table-product"},mo=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Item Name"),(0,i._)("th",null,"Quantity"),(0,i._)("th",null,"Action")])],-1))),uo=["onClick"],fo=["onClick"],_o={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},ho={class:"modal-dialog modal-dialog-centered",role:"document"},yo={class:"modal-content"},po={class:"modal-header"},bo=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Inventory",-1))),go=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),vo=[go],wo={class:"modal-body"},Ao={class:"form-group"},ko=n((()=>(0,i._)("label",{for:"item_name"},"Item Name",-1))),So={class:"form-group"},Mo=n((()=>(0,i._)("label",{for:"quantity"},"Quantity",-1))),Co={class:"modal-footer"},Eo=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Inventory",-1))),No={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Io={class:"modal-dialog modal-dialog-centered",role:"document"},Do={class:"modal-content"},Vo={class:"modal-header"},xo=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Inventory",-1))),qo=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Uo=[qo],Zo={class:"modal-body"},Ro={class:"form-group"},Fo=n((()=>(0,i._)("label",{for:"item_name"},"Item Name",-1))),$o={class:"form-group"},zo=n((()=>(0,i._)("label",{for:"quantity"},"Quantity",-1))),Wo={class:"modal-footer"},Ho=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1)));function To(t,e,n,q,et,rt){const Nt=(0,i.up)("router-link"),ge=(0,i.up)("Notification");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",l,[(0,i._)("div",{class:(0,a.C_)(["sidebar",{collapsed:et.isSidebarCollapsed}])},[(0,i._)("img",{src:o(2894),alt:"Mono",class:"logo"},null,8,d),(0,i.Wm)(Nt,{to:"/admin2"},{default:(0,i.w5)((()=>[c,r])),_:1}),(0,i._)("details",null,[m,(0,i._)("div",u,[(0,i.Wm)(Nt,{to:"/analytics2"},{default:(0,i.w5)((()=>[f,_])),_:1}),(0,i.Wm)(Nt,{to:"/shopinventory"},{default:(0,i.w5)((()=>[h,y])),_:1}),(0,i.Wm)(Nt,{to:"/cottagebooking"},{default:(0,i.w5)((()=>[p,b])),_:1}),(0,i.Wm)(Nt,{to:"/reservations"},{default:(0,i.w5)((()=>[g,v])),_:1}),(0,i.Wm)(Nt,{to:"/enrollment"},{default:(0,i.w5)((()=>[w,A])),_:1})])]),(0,i.Wm)(Nt,{to:"/teamadmin2"},{default:(0,i.w5)((()=>[k,S])),_:1}),(0,i.Wm)(Nt,{to:"/monitorusers2"},{default:(0,i.w5)((()=>[M,C])),_:1}),(0,i.Wm)(Nt,{to:"/pos2"},{default:(0,i.w5)((()=>[E,N])),_:1}),(0,i.Wm)(Nt,{to:"/history"},{default:(0,i.w5)((()=>[I,D])),_:1})],2),(0,i._)("div",V,[x,(0,i._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...t)=>rt.toggleSidebar&&rt.toggleSidebar(...t))},U),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>rt.logout&&rt.logout(...t)),class:"btn btn-custom logout-logo-btn"},[Z,(0,i.Uk)(" Logout ")])]),(0,i._)("div",R,[(0,i._)("div",F,[(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("div",W,[(0,i._)("div",H,[(0,i._)("div",T,[Y,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[2]||(e[2]=(...t)=>rt.openAddModal&&rt.openAddModal(...t))},"Add Staff")]),(0,i._)("div",K,[(0,i._)("div",O,[(0,i._)("table",L,[Q,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.staff,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,a.zw)(t.staff_id),1),(0,i._)("td",null,(0,a.zw)(t.staff_image),1),(0,i._)("td",null,(0,a.zw)(t.staff_name),1),(0,i._)("td",null,(0,a.zw)(t.staff_email),1),(0,i._)("td",null,(0,a.zw)(t.contactNum),1),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.openStaffEditModal(t)},"Edit",8,B),(0,i.Uk)(" | "),(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.hidestaff(t.staff_id)},"Hide",8,P)])])))),128))])])])])])])]),et.deleteConfirmationVisible?((0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",G,[(0,i._)("div",J,[(0,i._)("div",X,[tt,(0,i._)("button",{type:"button",class:"close",onClick:e[3]||(e[3]=(...t)=>rt.cancelDelete&&rt.cancelDelete(...t))},ot)]),it,(0,i._)("div",at,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[4]||(e[4]=(...t)=>rt.cancelDelete&&rt.cancelDelete(...t))},"Cancel"),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>rt.deleteStaffConfirmed&&rt.deleteStaffConfirmed(...t))},"Delete")])])])])):(0,i.kq)("",!0),et.addModalVisible?((0,i.wg)(),(0,i.iD)("div",st,[(0,i._)("div",nt,[(0,i._)("div",lt,[(0,i._)("div",dt,[ct,(0,i._)("button",{type:"button",class:"close",onClick:e[6]||(e[6]=(...t)=>rt.closeAddModal&&rt.closeAddModal(...t))},mt)]),(0,i._)("div",ut,[(0,i._)("form",{onSubmit:e[12]||(e[12]=(0,s.iM)((t=>rt.saveStaff("add")),["prevent"]))},[(0,i._)("div",ft,[_t,(0,i._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>rt.handleStaffImageUpload&&rt.handleStaffImageUpload(...t)),accept:"image/*",required:""},null,32)]),(0,i._)("div",ht,[yt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[8]||(e[8]=t=>et.staff_name=t),required:""},null,512),[[s.nr,et.staff_name]])]),(0,i._)("div",pt,[bt,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[9]||(e[9]=t=>et.staff_email=t),required:""},null,512),[[s.nr,et.staff_email]])]),(0,i._)("div",gt,[vt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[10]||(e[10]=t=>et.contactNum=t),required:""},null,512),[[s.nr,et.contactNum]])]),(0,i._)("div",wt,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[11]||(e[11]=(...t)=>rt.closeAddModal&&rt.closeAddModal(...t))},"Close"),At])],32)])])])])):(0,i.kq)("",!0)]),et.editStaffModalVisible?((0,i.wg)(),(0,i.iD)("div",kt,[(0,i._)("div",St,[(0,i._)("div",Mt,[(0,i._)("div",Ct,[Et,(0,i._)("button",{type:"button",class:"close",onClick:e[13]||(e[13]=(...t)=>rt.closeStaffEditModal&&rt.closeStaffEditModal(...t))},It)]),(0,i._)("div",Dt,[(0,i._)("form",{onSubmit:e[18]||(e[18]=(0,s.iM)(((...t)=>rt.saveStaffEdit&&rt.saveStaffEdit(...t)),["prevent"]))},[(0,i._)("div",Vt,[xt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[14]||(e[14]=t=>et.editedStaff.staff_name=t)},null,512),[[s.nr,et.editedStaff.staff_name]])]),(0,i._)("div",qt,[Ut,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[15]||(e[15]=t=>et.editedStaff.staff_email=t)},null,512),[[s.nr,et.editedStaff.staff_email]])]),(0,i._)("div",Zt,[Rt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[16]||(e[16]=t=>et.editedStaff.contactNum=t)},null,512),[[s.nr,et.editedStaff.contactNum]])]),(0,i._)("div",Ft,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[17]||(e[17]=(...t)=>rt.closeStaffEditModal&&rt.closeStaffEditModal(...t))},"Close"),$t])],32)])])])])):(0,i.kq)("",!0)]),(0,i._)("div",zt,[(0,i._)("div",Wt,[(0,i._)("div",Ht,[(0,i._)("div",Tt,[Yt,(0,i._)("div",Kt,[(0,i._)("div",Ot,[(0,i._)("table",Lt,[Qt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.rooms,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.room_id},[(0,i._)("td",null,(0,a.zw)(t.room_name),1),(0,i._)("td",null,[(0,i._)("div",Bt,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.toggleDropdown(t.room_id)}," Select Amenities ",8,Pt),rt.isDropdownOpen(t.room_id)?((0,i.wg)(),(0,i.iD)("div",jt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.amenities,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.amenity_id},[(0,i._)("input",{type:"checkbox",id:`dropdown-amenity-${t.room_id}-${e.amenity_id}`,value:e.amenity_id,checked:t.amenities.includes(e.amenity_id),onChange:o=>rt.toggleAmenity(t.room_id,e.amenity_id)},null,40,Gt),(0,i._)("label",{for:`dropdown-amenity-${t.room_id}-${e.amenity_id}`},(0,a.zw)(e.amenity_name),9,Jt)])))),128))])):(0,i.kq)("",!0)])]),(0,i._)("td",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignedAmenities,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.amenity_id},(0,a.zw)(t.amenity_name),1)))),128))])])])))),128))])])])]),(0,i.Wm)(ge,{show:et.notification.show,type:et.notification.type,message:et.notification.message},null,8,["show","type","message"])])])])]),(0,i._)("div",Xt,[(0,i._)("div",te,[(0,i._)("div",ee,[(0,i._)("div",oe,[ie,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[19]||(e[19]=(...t)=>rt.openAddAmenitiesModal&&rt.openAddAmenitiesModal(...t))}," Add Amenity ")]),(0,i._)("div",ae,[(0,i._)("div",se,[(0,i._)("table",ne,[le,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.amenities,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t.amenity_id},[(0,i._)("td",null,(0,a.zw)(t.amenity_name),1),(0,i._)("td",null,(0,a.zw)(t.description),1),(0,i._)("td",null,(0,a.zw)(t.stock),1),(0,i._)("td",de,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.openAddStockModal(t)},"Add Stock",8,ce),(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.openEditAmenitiesModal(t)},"Edit",8,re),(0,i._)("button",{class:"btn btn-danger",onClick:e=>rt.deleteAmenity(t.amenity_id)},"Delete",8,me),(0,i._)("button",{class:"btn btn-info",onClick:e=>rt.goToAudit(t.amenity_id)},"View Audit",8,ue)])])))),128))])])]),et.successMessage?((0,i.wg)(),(0,i.iD)("div",fe,(0,a.zw)(et.successMessage),1)):(0,i.kq)("",!0)])])]),et.editAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",_e,[(0,i._)("div",he,[(0,i._)("div",ye,[(0,i._)("div",pe,[be,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[20]||(e[20]=(...t)=>rt.closeEditAmenitiesModal&&rt.closeEditAmenitiesModal(...t))},ve)]),(0,i._)("div",we,[(0,i._)("form",{onSubmit:e[24]||(e[24]=(0,s.iM)(((...t)=>rt.saveEditAmenities&&rt.saveEditAmenities(...t)),["prevent"]))},[(0,i._)("div",Ae,[ke,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[21]||(e[21]=t=>et.editedAmenity.amenity_name=t)},null,512),[[s.nr,et.editedAmenity.amenity_name]])]),(0,i._)("div",Se,[Me,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[22]||(e[22]=t=>et.editedAmenity.description=t)},null,512),[[s.nr,et.editedAmenity.description]])]),(0,i._)("div",Ce,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[23]||(e[23]=(...t)=>rt.closeEditAmenitiesModal&&rt.closeEditAmenitiesModal(...t))}," Close "),Ee])],32)])])])])):(0,i.kq)("",!0),et.addStockModalVisible?((0,i.wg)(),(0,i.iD)("div",Ne,[(0,i._)("div",Ie,[(0,i._)("div",De,[(0,i._)("div",Ve,[xe,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[25]||(e[25]=(...t)=>rt.closeAddStockModal&&rt.closeAddStockModal(...t))},Ue)]),(0,i._)("div",Ze,[(0,i._)("form",{onSubmit:e[28]||(e[28]=(0,s.iM)(((...t)=>rt.saveAddStock&&rt.saveAddStock(...t)),["prevent"]))},[(0,i._)("div",Re,[Fe,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[26]||(e[26]=t=>et.newStock.amount=t),min:"1",required:""},null,512),[[s.nr,et.newStock.amount]])]),(0,i._)("div",$e,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[27]||(e[27]=(...t)=>rt.closeAddStockModal&&rt.closeAddStockModal(...t))},"Close"),ze])],32)])])])])):(0,i.kq)("",!0),et.addAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",We,[(0,i._)("div",He,[(0,i._)("div",Te,[(0,i._)("div",Ye,[Ke,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[29]||(e[29]=(...t)=>rt.closeAddAmenitiesModal&&rt.closeAddAmenitiesModal(...t))},Le)]),(0,i._)("div",Qe,[(0,i._)("form",{onSubmit:e[33]||(e[33]=(0,s.iM)(((...t)=>rt.saveAddAmenities&&rt.saveAddAmenities(...t)),["prevent"]))},[(0,i._)("div",Be,[Pe,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[30]||(e[30]=t=>et.newAmenity.amenity_name=t)},null,512),[[s.nr,et.newAmenity.amenity_name]])]),(0,i._)("div",je,[Ge,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[31]||(e[31]=t=>et.newAmenity.description=t)},null,512),[[s.nr,et.newAmenity.description]])]),(0,i._)("div",Je,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[32]||(e[32]=(...t)=>rt.closeAddAmenitiesModal&&rt.closeAddAmenitiesModal(...t))}," Close "),Xe])],32)])])])])):(0,i.kq)("",!0),et.successMessage?((0,i.wg)(),(0,i.iD)("div",to,(0,a.zw)(et.successMessage),1)):(0,i.kq)("",!0)]),(0,i._)("div",eo,[(0,i._)("div",oo,[(0,i._)("div",io,[(0,i._)("div",ao,[(0,i._)("div",so,[no,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[34]||(e[34]=(...t)=>rt.openAddInventoryModal&&rt.openAddInventoryModal(...t))},"Add Inventory")]),(0,i._)("div",lo,[(0,i._)("div",co,[(0,i._)("table",ro,[mo,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.inventory,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,a.zw)(t.item_name),1),(0,i._)("td",null,(0,a.zw)(t.quantity),1),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>rt.openEditModal(t)},"Edit",8,uo),(0,i.Uk)(" | "),(0,i._)("button",{class:"btn btn-danger",onClick:e=>rt.deleteInventory(t.inventory_id)},"Delete",8,fo)])])))),128))])])])])])])])])])]),et.addInventoryModalVisible?((0,i.wg)(),(0,i.iD)("div",_o,[(0,i._)("div",ho,[(0,i._)("div",yo,[(0,i._)("div",po,[bo,(0,i._)("button",{type:"button",class:"close",onClick:e[35]||(e[35]=(...t)=>rt.closeInventoryAddModal&&rt.closeInventoryAddModal(...t))},vo)]),(0,i._)("div",wo,[(0,i._)("form",{onSubmit:e[39]||(e[39]=(0,s.iM)(((...t)=>rt.addInventory&&rt.addInventory(...t)),["prevent"]))},[(0,i._)("div",Ao,[ko,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[36]||(e[36]=t=>et.newInventory.item_name=t),required:""},null,512),[[s.nr,et.newInventory.item_name]])]),(0,i._)("div",So,[Mo,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[37]||(e[37]=t=>et.newInventory.quantity=t),required:""},null,512),[[s.nr,et.newInventory.quantity]])]),(0,i._)("div",Co,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[38]||(e[38]=(...t)=>rt.closeInventoryAddModal&&rt.closeInventoryAddModal(...t))},"Close"),Eo])],32)])])])])):(0,i.kq)("",!0),et.editModalVisible?((0,i.wg)(),(0,i.iD)("div",No,[(0,i._)("div",Io,[(0,i._)("div",Do,[(0,i._)("div",Vo,[xo,(0,i._)("button",{type:"button",class:"close",onClick:e[40]||(e[40]=(...t)=>rt.closeEditModal&&rt.closeEditModal(...t))},Uo)]),(0,i._)("div",Zo,[(0,i._)("form",{onSubmit:e[44]||(e[44]=(0,s.iM)(((...t)=>rt.updateInventory&&rt.updateInventory(...t)),["prevent"]))},[(0,i._)("div",Ro,[Fo,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[41]||(e[41]=t=>et.editedInventory.item_name=t),required:""},null,512),[[s.nr,et.editedInventory.item_name]])]),(0,i._)("div",$o,[zo,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[42]||(e[42]=t=>et.editedInventory.quantity=t),required:""},null,512),[[s.nr,et.editedInventory.quantity]])]),(0,i._)("div",Wo,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[43]||(e[43]=(...t)=>rt.closeEditModal&&rt.closeEditModal(...t))},"Close"),Ho])],32)])])])])):(0,i.kq)("",!0),(0,i.Wm)(ge,{show:et.notification.show,type:et.notification.type,message:et.notification.message},null,8,["show","type","message"])],64)}o(560);var Yo=o(9754),Ko=o(1076),Oo={name:"YourComponentName",components:{Notification:Yo.Z},data(){return{inventory:[],newInventory:{item_name:"",quantity:""},editedInventory:{item_name:"",quantity:""},addInventoryModalVisible:!1,editModalVisible:!1,addStockModalVisible:!1,newStock:{amount:0},amenities:[],newAmenity:{amenity_name:"",description:""},editedAmenity:{},addAmenitiesModalVisible:!1,editAmenitiesModalVisible:!1,notification:{show:!1,type:"",message:""},rooms:[],amenities:[],newAmenity:{name:"",description:""},notification:{show:!1,type:"",message:""},openDropdowns:{},isSidebarCollapsed:!1,staff:[],addModalVisible:!1,staff_image:"",staff_name:"",staff_email:"",contactNum:"",successMessage:"",notification:{show:!1,type:"",message:""},editStaffModalVisible:!1,editedStaff:null,deleteConfirmationVisible:!1}},created(){this.fetchInventory()},mounted(){this.getStaff(),this.fetchRoomsAndAmenities()},methods:{async fetchInventory(){try{const t=await Ko.Z.get("/inventory");this.inventory=t.data}catch(t){console.error("Error fetching inventory:",t)}},openAddInventoryModal(){this.addInventoryModalVisible=!0},closeInventoryAddModal(){this.addInventoryModalVisible=!1},openEditModal(t){this.editedInventory={...t},this.editModalVisible=!0},closeEditModal(){this.editModalVisible=!1},async addInventory(){try{const t=await Ko.Z.post("/addinventory",this.newInventory);"success"===t.data.status?(this.fetchInventory(),this.closeInventoryAddModal(),this.showNotification("success",t.data.message)):this.showNotification("error","Failed to add inventory item")}catch(t){console.error("Error adding inventory:",t),this.showNotification("error","Error adding inventory item")}},async updateInventory(){try{const t=await Ko.Z.post(`/updateinventory/${this.editedInventory.inventory_id}`,this.editedInventory);"success"===t.data.status?(this.fetchInventory(),this.closeEditModal(),this.showNotification("success",t.data.message)):this.showNotification("error","Failed to update inventory item")}catch(t){console.error("Error updating inventory:",t),this.showNotification("error","Error updating inventory item")}},async deleteInventory(t){try{const e=await Ko.Z.delete(`/deleteinventory/${t}`);"success"===e.data.status?(this.fetchInventory(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete inventory item")}catch(e){console.error("Error deleting inventory:",e),this.showNotification("error","Error deleting inventory item: "+e.message)}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},goToAudit(t){this.$router.push({name:"AmenitiesAudit",params:{amenityId:t}})},openAddStockModal(t){this.newStock.amount=0,this.editedAmenity=t,this.addStockModalVisible=!0},closeAddStockModal(){this.addStockModalVisible=!1},async saveAddStock(){try{const t=await Ko.Z.post(`/api/amenities/${this.editedAmenity.amenity_id}/stock`,this.newStock);if("success"!==t.data.status)throw new Error(t.data.message||"Unknown error occurred");this.fetchAmenities(),this.closeAddStockModal(),this.showNotification("success",t.data.message)}catch(t){console.error("Error adding stock:",t),this.showNotification("error",t.response?.data?.message||"Failed to add stock")}},async fetchAmenities(){try{const t=await Ko.Z.get("/api/amenities");this.amenities=t.data}catch(t){console.error("Error fetching amenities:",t),this.showNotification("error","Error fetching amenities")}},openAddAmenitiesModal(){this.newAmenity={amenity_name:"",description:""},this.addAmenitiesModalVisible=!0},closeAddAmenitiesModal(){this.addAmenitiesModalVisible=!1},async saveAddAmenities(){try{const t=await Ko.Z.post("/api/amenities",this.newAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeAddAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error adding amenity:",t),this.showNotification("error","Error adding amenity")}},openEditAmenitiesModal(t){this.editedAmenity={...t},this.editAmenitiesModalVisible=!0},closeEditAmenitiesModal(){this.editAmenitiesModalVisible=!1},async saveEditAmenities(){try{const t=await Ko.Z.put(`/api/amenities/${this.editedAmenity.amenity_id}`,this.editedAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeEditAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error updating amenity:",t),this.showNotification("error","Error updating amenity")}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},async deleteAmenity(t){try{const e=await Ko.Z.delete(`/api/amenities/${t}`);"success"===e.data.status?(this.fetchAmenities(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete amenity.")}catch(e){console.error("Error deleting amenity:",e),this.showNotification("error","Error deleting amenity: "+e.message)}},fetchRoomsAndAmenities(){Ko.Z.get("/getRoom").then((t=>{console.log("Rooms data:",t.data),this.rooms=t.data.map((t=>({...t,amenities:t.amenities?t.amenities.map((t=>t.amenity_id)):[],assignedAmenities:[]}))),this.rooms.forEach((t=>this.getAmenitiesForRoom(t.room_id)))})).catch((t=>{console.error("Error fetching rooms:",t)})),Ko.Z.get("/getAllAmenities").then((t=>{console.log("Amenities data:",t.data),this.amenities=t.data})).catch((t=>{console.error("Error fetching amenities:",t)}))},toggleAmenity(t,e){const o=this.rooms.find((e=>e.room_id===t)),i=o.amenities.indexOf(e);i>-1?o.amenities.splice(i,1):o.amenities.push(e),this.updateRoomAmenities(t,o.amenities)},updateRoomAmenities(t,e){Ko.Z.post(`/assignAmenitiesToRoom/${t}`,{amenities:e}).then((e=>{"success"!==e.data.status?this.showNotification("error","Failed to update amenities"):this.getAmenitiesForRoom(t)})).catch((t=>{console.error("Error updating room amenities:",t),this.showNotification("error","Failed to update amenities")}))},addAmenity(){const t={amenity_name:this.newAmenity.name,description:this.newAmenity.description};Ko.Z.post("/addAmenity",t).then((t=>{"success"===t.data.status?(this.fetchRoomsAndAmenities(),this.newAmenity.name="",this.newAmenity.description="",this.showNotification("success","Amenity added successfully")):this.showNotification("error","Failed to add amenity")})).catch((t=>{console.error("Error adding amenity:",t),this.showNotification("error","Failed to add amenity")}))},showNotification(t,e){this.notification={show:!0,type:t,message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},toggleDropdown(t){this.openDropdowns={...this.openDropdowns,[t]:!this.openDropdowns[t]}},isDropdownOpen(t){return!!this.openDropdowns[t]},getAmenitiesForRoom(t){Ko.Z.get(`/getAmenitiesForRoom/${t}`).then((e=>{console.log("Amenities response:",e.data);const o=this.rooms.find((e=>e.room_id===t));o&&(o.assignedAmenities=e.data)})).catch((t=>{console.error("Error fetching amenities for room:",t)}))},toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed},async logout(){try{const t=await Ko.Z.post("/logout");200===t.status&&(console.log("Logout successful"),sessionStorage.removeItem("token"),this.$router.push("/"))}catch(t){console.error("Error during logout",t)}},async hidestaff(t){const e=window.confirm("Do you want to HIDE this item?");if(e)try{await Ko.Z.post(`/api/staffback/hide/${t}`),this.staff=this.staff.map((e=>e.staff_id===t?{...e,is_hidden:1}:e)),console.log("staffback hidden successfully")}catch(o){console.error("Error hiding staffback:",o)}},confirmDeleteStaff(t){this.editedStaff={...t},this.deleteConfirmationVisible=!0},cancelDelete(){this.editedStaff=null,this.deleteConfirmationVisible=!1},async deleteStaffConfirmed(){try{const t=`/deleteStaff/${this.editedStaff.staff_id}`,e=await Ko.Z.delete(t);console.log("Staff deleted successfully:",e.data),this.cancelDelete(),this.showSuccessNotification("Staff Deleted Successfully"),this.getStaff()}catch(t){console.error("Error deleting staff:",t),this.showErrorNotification("Failed to delete staff")}},openStaffEditModal(t){this.editedStaff={...t},this.editStaffModalVisible=!0},closeStaffEditModal(){this.editedStaff=null,this.editStaffModalVisible=!1},async saveStaffEdit(){try{const t={staff_name:this.editedStaff.staff_name,staff_email:this.editedStaff.staff_email,contactNum:this.editedStaff.contactNum},e=`/updateStaff/${this.editedStaff.staff_id}`,o=await Ko.Z.put(e,t);console.log("Staff updated successfully:",o.data),this.closeStaffEditModal(),this.showSuccessNotification("Staff Updated Successfully"),this.getStaff()}catch(t){console.error("Error updating staff:",t),this.showErrorNotification("Failed to update staff")}},showSuccessNotification(t){this.notification={show:!0,type:"success",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(t){this.notification={show:!0,type:"error",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},async saveStaff(t){try{let e={};"add"===t&&(this.staff_image instanceof FormData?(e=this.staff_image,e.append("staff_name",this.staff_name),e.append("staff_email",this.staff_email),e.append("contactNum",this.contactNum)):e={staff_name:this.staff_name,staff_email:this.staff_email,contactNum:this.contactNum});await Ko.Z.post("saveStaff",e);"add"===t&&(this.closeAddModal(),this.staff_image="",this.staff_name="",this.staff_email="",this.contactNum="",this.showSuccessNotification("Staff Added Successfully"),this.getStaff())}catch(e){console.error(e)}},async getStaff(){const t=await Ko.Z.get("/getStaff");this.staff=t.data},handleStaffImageUpload(t){const e=t.target.files[0],o=new FormData;o.append("staff_image",e),this.staff_image=o}}},Lo=o(89);const Qo=(0,Lo.Z)(Oo,[["render",To],["__scopeId","data-v-7988b9cd"]]);var Bo=Qo},2894:function(t,e,o){t.exports=o.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=132.c39ac0cd.js.map