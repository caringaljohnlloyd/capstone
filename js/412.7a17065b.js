"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[412],{9412:function(t,e,o){o.r(e),o.d(e,{default:function(){return N}});var a=o(3396),r=o(7139);const i=t=>((0,a.dD)("data-v-29d88732"),t=t(),(0,a.Cn)(),t),n={class:"main-content"},s=i((()=>(0,a._)("h2",null,"Booking History",-1))),l={key:0},c=i((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Booking Date"),(0,a._)("th",null,"Details")])],-1))),g={key:1},h=i((()=>(0,a._)("h2",null,"Cottage History",-1))),u={key:2},y=i((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Cottage Date"),(0,a._)("th",null,"Details")])],-1))),d={key:3},_=i((()=>(0,a._)("h2",null,"Reservation History",-1))),w={key:4},H=i((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Reservation Date"),(0,a._)("th",null,"Details")])],-1))),k={key:5};function f(t,e,o,i,f,D){const m=(0,a.up)("Notification");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(m,{show:f.notification.show,type:f.notification.type,message:f.notification.message},null,8,["show","type","message"]),(0,a._)("div",n,[s,f.bookingHistory.length?((0,a.wg)(),(0,a.iD)("table",l,[c,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.bookingHistory,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,r.zw)(D.getUserName(t.user_id)),1),(0,a._)("td",null,(0,r.zw)(t.checkin)+" - "+(0,r.zw)(t.checkout),1),(0,a._)("td",null,(0,r.zw)(t.specialRequest||"N/A"),1)])))),128))])])):((0,a.wg)(),(0,a.iD)("p",g,"Loading booking history...")),h,f.cottageHistory.length?((0,a.wg)(),(0,a.iD)("table",u,[y,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.cottageHistory,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,r.zw)(D.getUserName(t.user_id)),1),(0,a._)("td",null,(0,r.zw)(t.date),1),(0,a._)("td",null,(0,r.zw)(t.details||"N/A"),1)])))),128))])])):((0,a.wg)(),(0,a.iD)("p",d,"Loading cottage history...")),_,f.reservationHistory.length?((0,a.wg)(),(0,a.iD)("table",w,[H,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.reservationHistory,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,r.zw)(D.getUserName(t.user_id)),1),(0,a._)("td",null,(0,r.zw)(t.reservation_time),1),(0,a._)("td",null,(0,r.zw)(t.details||"N/A"),1)])))),128))])])):((0,a.wg)(),(0,a.iD)("p",k,"Loading reservation history..."))])],64)}var D=o(1076),m=o(9646);m.kL.register(...m.zX);var v={name:"analytics",data(){return{bookingHistory:[],cottageHistory:[],reservationHistory:[],user:{},notification:{show:!1,type:"",message:""}}},mounted(){this.fetchAllData()},methods:{async fetchAllData(){try{await Promise.all([this.fetchUsers(),this.fetchBookingHistory(),this.fetchCottageHistory(),this.fetchReservationHistory()])}catch(t){console.error("Error fetching data:",t)}},async fetchUsers(){try{const t=await D.Z.get("/getData");console.log("User Data:",t.data),t.data.forEach((t=>{this.user[t.id]=t.name}))}catch(t){console.error("Error fetching user data:",t)}},async fetchBookingHistory(){try{const t=await D.Z.get("/getRoomBookingHistory");console.log("Booking History Data:",t.data),this.bookingHistory=t.data}catch(t){console.error("Error fetching booking history:",t)}},async fetchCottageHistory(){try{const t=await D.Z.get("/getCottageHistory");console.log("Cottage History Data:",t.data),this.cottageHistory=t.data}catch(t){console.error("Error fetching cottage history:",t)}},async fetchReservationHistory(){try{const t=await D.Z.get("/getReservationHistory");console.log("Reservation History Data:",t.data),this.reservationHistory=t.data}catch(t){console.error("Error fetching reservation history:",t)}},getUserName(t){return this.user[Number(t)]||"Unknown User"}}},p=o(89);const b=(0,p.Z)(v,[["render",f],["__scopeId","data-v-29d88732"]]);var N=b}}]);
//# sourceMappingURL=412.7a17065b.js.map