"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[789],{7789:function(t,e,a){a.r(e),a.d(e,{default:function(){return ia}});var i=a(3396),s=a(7139),o=a(9242);const n=t=>((0,i.dD)("data-v-f4cddff6"),t=t(),(0,i.Cn)(),t),l={class:"main-content"},d=["src"],c=n((()=>(0,i._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),m=n((()=>(0,i._)("span",null,"Business Dashboard",-1))),r=n((()=>(0,i._)("summary",{class:"inventory-summary"},[(0,i._)("i",{style:{padding:"10px",margin:"0"},class:"fa-solid fa-table"}),(0,i._)("span",{style:{padding:"0",margin:"0"},class:"dropdown-icon"},"▾"),(0,i._)("span",{style:{padding:"0",margin:"0"}},"Inventory Options")],-1))),f={class:"dropdown-menu"},u=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-house"},null,-1))),_=n((()=>(0,i._)("span",null,"Room Inventory",-1))),h=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),p=n((()=>(0,i._)("span",null,"Shop Inventory",-1))),y=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-utensils"},null,-1))),b=n((()=>(0,i._)("span",null,"Restaurant Reservations",-1))),g=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-person-swimming"},null,-1))),w=n((()=>(0,i._)("span",null,"Enrollment Inventory",-1))),A=n((()=>(0,i._)("i",{class:"fa-solid fa-people-group"},null,-1))),v=n((()=>(0,i._)("span",null,"Team",-1))),S=n((()=>(0,i._)("i",{class:"fas fa-user"},null,-1))),k=n((()=>(0,i._)("span",null,"Users",-1))),M=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),C=n((()=>(0,i._)("span",null,"POS",-1))),N={class:"header"},E=n((()=>(0,i._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),D=n((()=>(0,i._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),V=[D],x=n((()=>(0,i._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),U={class:"card-main"},R={class:"content"},Z={class:"row"},I={class:"content-wrapper"},q={class:"content"},F={class:"card card-default"},$={class:"card-header"},z=n((()=>(0,i._)("h2",null,"Staff List",-1))),W={class:"card-body"},T={class:"table-responsive"},H={class:"table-product"},O=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Image"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Contact Number"),(0,i._)("th",null,"Action")])],-1))),Y=["onClick"],K=["onClick"],L={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},B={class:"modal-dialog modal-dialog-centered",role:"document"},P={class:"modal-content"},j={class:"modal-header"},G=n((()=>(0,i._)("h5",{class:"modal-title"},"Confirm Delete",-1))),J=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Q=[J],X=n((()=>(0,i._)("div",{class:"modal-body"},[(0,i._)("p",null,"Are you sure you want to delete this staff member?")],-1))),tt={class:"modal-footer"},et={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},at={class:"modal-dialog modal-dialog-centered",role:"document"},it={class:"modal-content"},st={class:"modal-header"},ot=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Staff",-1))),nt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),lt=[nt],dt={class:"modal-body"},ct={class:"form-group"},mt=n((()=>(0,i._)("label",{for:"staff_image"},"Staff Image",-1))),rt={class:"form-group"},ft=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),ut={class:"form-group"},_t=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),ht={class:"form-group"},pt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),yt={class:"modal-footer"},bt=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Staff",-1))),gt={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},wt={class:"modal-dialog modal-dialog-centered",role:"document"},At={class:"modal-content"},vt={class:"modal-header"},St=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Staff",-1))),kt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Mt=[kt],Ct={class:"modal-body"},Nt={class:"form-group"},Et=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),Dt={class:"form-group"},Vt=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),xt={class:"form-group"},Ut=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),Rt={class:"modal-footer"},Zt=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),It={class:"row"},qt={class:"content-wrapper"},Ft={class:"content"},$t={class:"card card-default"},zt=n((()=>(0,i._)("div",{class:"card-header"},[(0,i._)("h2",null,"Assign Amenities to Rooms")],-1))),Wt={class:"card-body"},Tt={class:"table-responsive"},Ht={class:"table table-product"},Ot=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Room Name"),(0,i._)("th",null,"Select Amenities"),(0,i._)("th",null,"Assigned Amenities")])],-1))),Yt={class:"dropdown"},Kt=["onClick"],Lt={key:0,class:"dropdown-content"},Bt=["id","value","checked","onChange"],Pt=["for"],jt={class:"row"},Gt={class:"col-12"},Jt={class:"card card-default"},Qt={class:"card-header"},Xt=n((()=>(0,i._)("h2",null,"Amenities Inventory",-1))),te={class:"card-body"},ee={class:"table-responsive"},ae={id:"amenitiesTable",class:"table table-product"},ie=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Amenity Name"),(0,i._)("th",null,"Description"),(0,i._)("th",null,"Stocks"),(0,i._)("th",null,"Action")])],-1))),se={class:"action-buttons"},oe=["onClick"],ne=["onClick"],le=["onClick"],de=["onClick"],ce={key:0,class:"alert alert-success",role:"alert"},me={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},re={class:"modal-dialog modal-dialog-centered",role:"document"},fe={class:"modal-content"},ue={class:"modal-header"},_e=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Amenity",-1))),he=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),pe=[he],ye={class:"modal-body"},be={class:"form-group"},ge=n((()=>(0,i._)("label",{for:"edit_amenity_name"},"Amenity Name",-1))),we={class:"form-group"},Ae=n((()=>(0,i._)("label",{for:"edit_amenity_desc"},"Amenity Description",-1))),ve={class:"modal-footer"},Se=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),ke={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Me={class:"modal-dialog modal-dialog-centered",role:"document"},Ce={class:"modal-content"},Ne={class:"modal-header"},Ee=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Stock",-1))),De=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Ve=[De],xe={class:"modal-body"},Ue={class:"form-group"},Re=n((()=>(0,i._)("label",{for:"stock_amount"},"Stock Amount",-1))),Ze={class:"modal-footer"},Ie=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Stock",-1))),qe={key:2,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Fe={class:"modal-dialog modal-dialog-centered",role:"document"},$e={class:"modal-content"},ze={class:"modal-header"},We=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Amenity",-1))),Te=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),He=[Te],Oe={class:"modal-body"},Ye={class:"form-group"},Ke=n((()=>(0,i._)("label",{for:"new_amenity_name"},"Amenity Name",-1))),Le={class:"form-group"},Be=n((()=>(0,i._)("label",{for:"new_amenity_desc"},"Amenity Description",-1))),Pe={class:"modal-footer"},je=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Amenity",-1))),Ge={key:3,class:"alert alert-success",role:"alert"};function Je(t,e,n,D,J,nt){const kt=(0,i.up)("router-link"),he=(0,i.up)("Notification");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",{class:(0,s.C_)(["sidebar",{collapsed:J.isSidebarCollapsed}])},[(0,i._)("img",{src:a(2894),alt:"Mono",class:"logo"},null,8,d),(0,i.Wm)(kt,{to:"/admin2"},{default:(0,i.w5)((()=>[c,m])),_:1}),(0,i._)("details",null,[r,(0,i._)("div",f,[(0,i.Wm)(kt,{to:"/analytics2"},{default:(0,i.w5)((()=>[u,_])),_:1}),(0,i.Wm)(kt,{to:"/shopinventory"},{default:(0,i.w5)((()=>[h,p])),_:1}),(0,i.Wm)(kt,{to:"/reservations"},{default:(0,i.w5)((()=>[y,b])),_:1}),(0,i.Wm)(kt,{to:"/enrollment"},{default:(0,i.w5)((()=>[g,w])),_:1})])]),(0,i.Wm)(kt,{to:"/teamadmin2"},{default:(0,i.w5)((()=>[A,v])),_:1}),(0,i.Wm)(kt,{to:"/monitorusers2"},{default:(0,i.w5)((()=>[S,k])),_:1}),(0,i.Wm)(kt,{to:"/pos2"},{default:(0,i.w5)((()=>[M,C])),_:1})],2),(0,i._)("div",N,[E,(0,i._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...t)=>nt.toggleSidebar&&nt.toggleSidebar(...t))},V),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>nt.logout&&nt.logout(...t)),class:"btn btn-custom logout-logo-btn"},[x,(0,i.Uk)(" Logout ")])]),(0,i._)("div",U,[(0,i._)("div",R,[(0,i._)("div",Z,[(0,i._)("div",I,[(0,i._)("div",q,[(0,i._)("div",F,[(0,i._)("div",$,[z,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[2]||(e[2]=(...t)=>nt.openAddModal&&nt.openAddModal(...t))},"Add Staff")]),(0,i._)("div",W,[(0,i._)("div",T,[(0,i._)("table",H,[O,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(J.staff,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,s.zw)(t.staff_id),1),(0,i._)("td",null,(0,s.zw)(t.staff_image),1),(0,i._)("td",null,(0,s.zw)(t.staff_name),1),(0,i._)("td",null,(0,s.zw)(t.staff_email),1),(0,i._)("td",null,(0,s.zw)(t.contactNum),1),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>nt.openStaffEditModal(t)},"Edit",8,Y),(0,i.Uk)(" | "),(0,i._)("button",{class:"btn btn-custom",onClick:e=>nt.hidestaff(t.staff_id)},"Hide",8,K)])])))),128))])])])])])])]),J.deleteConfirmationVisible?((0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("div",B,[(0,i._)("div",P,[(0,i._)("div",j,[G,(0,i._)("button",{type:"button",class:"close",onClick:e[3]||(e[3]=(...t)=>nt.cancelDelete&&nt.cancelDelete(...t))},Q)]),X,(0,i._)("div",tt,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[4]||(e[4]=(...t)=>nt.cancelDelete&&nt.cancelDelete(...t))},"Cancel"),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>nt.deleteStaffConfirmed&&nt.deleteStaffConfirmed(...t))},"Delete")])])])])):(0,i.kq)("",!0),J.addModalVisible?((0,i.wg)(),(0,i.iD)("div",et,[(0,i._)("div",at,[(0,i._)("div",it,[(0,i._)("div",st,[ot,(0,i._)("button",{type:"button",class:"close",onClick:e[6]||(e[6]=(...t)=>nt.closeAddModal&&nt.closeAddModal(...t))},lt)]),(0,i._)("div",dt,[(0,i._)("form",{onSubmit:e[12]||(e[12]=(0,o.iM)((t=>nt.saveStaff("add")),["prevent"]))},[(0,i._)("div",ct,[mt,(0,i._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>nt.handleStaffImageUpload&&nt.handleStaffImageUpload(...t)),accept:"image/*",required:""},null,32)]),(0,i._)("div",rt,[ft,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[8]||(e[8]=t=>J.staff_name=t),required:""},null,512),[[o.nr,J.staff_name]])]),(0,i._)("div",ut,[_t,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[9]||(e[9]=t=>J.staff_email=t),required:""},null,512),[[o.nr,J.staff_email]])]),(0,i._)("div",ht,[pt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[10]||(e[10]=t=>J.contactNum=t),required:""},null,512),[[o.nr,J.contactNum]])]),(0,i._)("div",yt,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[11]||(e[11]=(...t)=>nt.closeAddModal&&nt.closeAddModal(...t))},"Close"),bt])],32)])])])])):(0,i.kq)("",!0)]),J.editStaffModalVisible?((0,i.wg)(),(0,i.iD)("div",gt,[(0,i._)("div",wt,[(0,i._)("div",At,[(0,i._)("div",vt,[St,(0,i._)("button",{type:"button",class:"close",onClick:e[13]||(e[13]=(...t)=>nt.closeStaffEditModal&&nt.closeStaffEditModal(...t))},Mt)]),(0,i._)("div",Ct,[(0,i._)("form",{onSubmit:e[18]||(e[18]=(0,o.iM)(((...t)=>nt.saveStaffEdit&&nt.saveStaffEdit(...t)),["prevent"]))},[(0,i._)("div",Nt,[Et,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[14]||(e[14]=t=>J.editedStaff.staff_name=t)},null,512),[[o.nr,J.editedStaff.staff_name]])]),(0,i._)("div",Dt,[Vt,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[15]||(e[15]=t=>J.editedStaff.staff_email=t)},null,512),[[o.nr,J.editedStaff.staff_email]])]),(0,i._)("div",xt,[Ut,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[16]||(e[16]=t=>J.editedStaff.contactNum=t)},null,512),[[o.nr,J.editedStaff.contactNum]])]),(0,i._)("div",Rt,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[17]||(e[17]=(...t)=>nt.closeStaffEditModal&&nt.closeStaffEditModal(...t))},"Close"),Zt])],32)])])])])):(0,i.kq)("",!0)]),(0,i._)("div",It,[(0,i._)("div",qt,[(0,i._)("div",Ft,[(0,i._)("div",$t,[zt,(0,i._)("div",Wt,[(0,i._)("div",Tt,[(0,i._)("table",Ht,[Ot,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(J.rooms,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.room_id},[(0,i._)("td",null,(0,s.zw)(t.room_name),1),(0,i._)("td",null,[(0,i._)("div",Yt,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>nt.toggleDropdown(t.room_id)}," Select Amenities ",8,Kt),nt.isDropdownOpen(t.room_id)?((0,i.wg)(),(0,i.iD)("div",Lt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(J.amenities,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.amenity_id},[(0,i._)("input",{type:"checkbox",id:`dropdown-amenity-${t.room_id}-${e.amenity_id}`,value:e.amenity_id,checked:t.amenities.includes(e.amenity_id),onChange:a=>nt.toggleAmenity(t.room_id,e.amenity_id)},null,40,Bt),(0,i._)("label",{for:`dropdown-amenity-${t.room_id}-${e.amenity_id}`},(0,s.zw)(e.amenity_name),9,Pt)])))),128))])):(0,i.kq)("",!0)])]),(0,i._)("td",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignedAmenities,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.amenity_id},(0,s.zw)(t.amenity_name),1)))),128))])])])))),128))])])])]),(0,i.Wm)(he,{show:J.notification.show,type:J.notification.type,message:J.notification.message},null,8,["show","type","message"])])])])]),(0,i._)("div",jt,[(0,i._)("div",Gt,[(0,i._)("div",Jt,[(0,i._)("div",Qt,[Xt,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[19]||(e[19]=(...t)=>nt.openAddAmenitiesModal&&nt.openAddAmenitiesModal(...t))}," Add Amenity ")]),(0,i._)("div",te,[(0,i._)("div",ee,[(0,i._)("table",ae,[ie,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(J.amenities,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t.amenity_id},[(0,i._)("td",null,(0,s.zw)(t.amenity_name),1),(0,i._)("td",null,(0,s.zw)(t.description),1),(0,i._)("td",null,(0,s.zw)(t.stock),1),(0,i._)("td",se,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>nt.openAddStockModal(t)},"Add Stock",8,oe),(0,i._)("button",{class:"btn btn-custom",onClick:e=>nt.openEditAmenitiesModal(t)},"Edit",8,ne),(0,i._)("button",{class:"btn btn-danger",onClick:e=>nt.deleteAmenity(t.amenity_id)},"Delete",8,le),(0,i._)("button",{class:"btn btn-info",onClick:e=>nt.goToAudit(t.amenity_id)},"View Audit",8,de)])])))),128))])])]),J.successMessage?((0,i.wg)(),(0,i.iD)("div",ce,(0,s.zw)(J.successMessage),1)):(0,i.kq)("",!0)])])]),J.editAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",me,[(0,i._)("div",re,[(0,i._)("div",fe,[(0,i._)("div",ue,[_e,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[20]||(e[20]=(...t)=>nt.closeEditAmenitiesModal&&nt.closeEditAmenitiesModal(...t))},pe)]),(0,i._)("div",ye,[(0,i._)("form",{onSubmit:e[24]||(e[24]=(0,o.iM)(((...t)=>nt.saveEditAmenities&&nt.saveEditAmenities(...t)),["prevent"]))},[(0,i._)("div",be,[ge,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[21]||(e[21]=t=>J.editedAmenity.amenity_name=t)},null,512),[[o.nr,J.editedAmenity.amenity_name]])]),(0,i._)("div",we,[Ae,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[22]||(e[22]=t=>J.editedAmenity.description=t)},null,512),[[o.nr,J.editedAmenity.description]])]),(0,i._)("div",ve,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[23]||(e[23]=(...t)=>nt.closeEditAmenitiesModal&&nt.closeEditAmenitiesModal(...t))}," Close "),Se])],32)])])])])):(0,i.kq)("",!0),J.addStockModalVisible?((0,i.wg)(),(0,i.iD)("div",ke,[(0,i._)("div",Me,[(0,i._)("div",Ce,[(0,i._)("div",Ne,[Ee,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[25]||(e[25]=(...t)=>nt.closeAddStockModal&&nt.closeAddStockModal(...t))},Ve)]),(0,i._)("div",xe,[(0,i._)("form",{onSubmit:e[28]||(e[28]=(0,o.iM)(((...t)=>nt.saveAddStock&&nt.saveAddStock(...t)),["prevent"]))},[(0,i._)("div",Ue,[Re,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[26]||(e[26]=t=>J.newStock.amount=t),min:"1",required:""},null,512),[[o.nr,J.newStock.amount]])]),(0,i._)("div",Ze,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[27]||(e[27]=(...t)=>nt.closeAddStockModal&&nt.closeAddStockModal(...t))},"Close"),Ie])],32)])])])])):(0,i.kq)("",!0),J.addAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",qe,[(0,i._)("div",Fe,[(0,i._)("div",$e,[(0,i._)("div",ze,[We,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[29]||(e[29]=(...t)=>nt.closeAddAmenitiesModal&&nt.closeAddAmenitiesModal(...t))},He)]),(0,i._)("div",Oe,[(0,i._)("form",{onSubmit:e[33]||(e[33]=(0,o.iM)(((...t)=>nt.saveAddAmenities&&nt.saveAddAmenities(...t)),["prevent"]))},[(0,i._)("div",Ye,[Ke,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[30]||(e[30]=t=>J.newAmenity.amenity_name=t)},null,512),[[o.nr,J.newAmenity.amenity_name]])]),(0,i._)("div",Le,[Be,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[31]||(e[31]=t=>J.newAmenity.description=t)},null,512),[[o.nr,J.newAmenity.description]])]),(0,i._)("div",Pe,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[32]||(e[32]=(...t)=>nt.closeAddAmenitiesModal&&nt.closeAddAmenitiesModal(...t))}," Close "),je])],32)])])])])):(0,i.kq)("",!0),J.successMessage?((0,i.wg)(),(0,i.iD)("div",Ge,(0,s.zw)(J.successMessage),1)):(0,i.kq)("",!0)])]),(0,i.Wm)(he,{show:J.notification.show,type:J.notification.type,message:J.notification.message},null,8,["show","type","message"])])}a(560);var Qe=a(9754),Xe=a(1076),ta={name:"YourComponentName",components:{Notification:Qe.Z},data(){return{addStockModalVisible:!1,newStock:{amount:0},amenities:[],newAmenity:{amenity_name:"",description:""},editedAmenity:{},addAmenitiesModalVisible:!1,editAmenitiesModalVisible:!1,notification:{show:!1,type:"",message:""},rooms:[],amenities:[],newAmenity:{name:"",description:""},notification:{show:!1,type:"",message:""},openDropdowns:{},isSidebarCollapsed:!1,staff:[],addModalVisible:!1,staff_image:"",staff_name:"",staff_email:"",contactNum:"",successMessage:"",notification:{show:!1,type:"",message:""},editStaffModalVisible:!1,editedStaff:null,deleteConfirmationVisible:!1}},mounted(){this.getStaff(),this.fetchRoomsAndAmenities()},methods:{goToAudit(t){this.$router.push({name:"AmenitiesAudit",params:{amenityId:t}})},openAddStockModal(t){this.newStock.amount=0,this.editedAmenity=t,this.addStockModalVisible=!0},closeAddStockModal(){this.addStockModalVisible=!1},async saveAddStock(){try{const t=await Xe.Z.post(`/api/amenities/${this.editedAmenity.amenity_id}/stock`,this.newStock);if("success"!==t.data.status)throw new Error(t.data.message||"Unknown error occurred");this.fetchAmenities(),this.closeAddStockModal(),this.showNotification("success",t.data.message)}catch(t){console.error("Error adding stock:",t),this.showNotification("error",t.response?.data?.message||"Failed to add stock")}},async fetchAmenities(){try{const t=await Xe.Z.get("/api/amenities");this.amenities=t.data}catch(t){console.error("Error fetching amenities:",t),this.showNotification("error","Error fetching amenities")}},openAddAmenitiesModal(){this.newAmenity={amenity_name:"",description:""},this.addAmenitiesModalVisible=!0},closeAddAmenitiesModal(){this.addAmenitiesModalVisible=!1},async saveAddAmenities(){try{const t=await Xe.Z.post("/api/amenities",this.newAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeAddAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error adding amenity:",t),this.showNotification("error","Error adding amenity")}},openEditAmenitiesModal(t){this.editedAmenity={...t},this.editAmenitiesModalVisible=!0},closeEditAmenitiesModal(){this.editAmenitiesModalVisible=!1},async saveEditAmenities(){try{const t=await Xe.Z.put(`/api/amenities/${this.editedAmenity.amenity_id}`,this.editedAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeEditAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error updating amenity:",t),this.showNotification("error","Error updating amenity")}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},async deleteAmenity(t){try{const e=await Xe.Z.delete(`/api/amenities/${t}`);"success"===e.data.status?(this.fetchAmenities(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete amenity.")}catch(e){console.error("Error deleting amenity:",e),this.showNotification("error","Error deleting amenity: "+e.message)}},fetchRoomsAndAmenities(){Xe.Z.get("/getRoom").then((t=>{console.log("Rooms data:",t.data),this.rooms=t.data.map((t=>({...t,amenities:t.amenities?t.amenities.map((t=>t.amenity_id)):[],assignedAmenities:[]}))),this.rooms.forEach((t=>this.getAmenitiesForRoom(t.room_id)))})).catch((t=>{console.error("Error fetching rooms:",t)})),Xe.Z.get("/getAllAmenities").then((t=>{console.log("Amenities data:",t.data),this.amenities=t.data})).catch((t=>{console.error("Error fetching amenities:",t)}))},toggleAmenity(t,e){const a=this.rooms.find((e=>e.room_id===t)),i=a.amenities.indexOf(e);i>-1?a.amenities.splice(i,1):a.amenities.push(e),this.updateRoomAmenities(t,a.amenities)},updateRoomAmenities(t,e){Xe.Z.post(`/assignAmenitiesToRoom/${t}`,{amenities:e}).then((e=>{"success"!==e.data.status?this.showNotification("error","Failed to update amenities"):this.getAmenitiesForRoom(t)})).catch((t=>{console.error("Error updating room amenities:",t),this.showNotification("error","Failed to update amenities")}))},addAmenity(){const t={amenity_name:this.newAmenity.name,description:this.newAmenity.description};Xe.Z.post("/addAmenity",t).then((t=>{"success"===t.data.status?(this.fetchRoomsAndAmenities(),this.newAmenity.name="",this.newAmenity.description="",this.showNotification("success","Amenity added successfully")):this.showNotification("error","Failed to add amenity")})).catch((t=>{console.error("Error adding amenity:",t),this.showNotification("error","Failed to add amenity")}))},showNotification(t,e){this.notification={show:!0,type:t,message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},toggleDropdown(t){this.openDropdowns={...this.openDropdowns,[t]:!this.openDropdowns[t]}},isDropdownOpen(t){return!!this.openDropdowns[t]},getAmenitiesForRoom(t){Xe.Z.get(`/getAmenitiesForRoom/${t}`).then((e=>{console.log("Amenities response:",e.data);const a=this.rooms.find((e=>e.room_id===t));a&&(a.assignedAmenities=e.data)})).catch((t=>{console.error("Error fetching amenities for room:",t)}))},toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed},async logout(){try{const t=await Xe.Z.post("/logout");200===t.status&&(console.log("Logout successful"),sessionStorage.removeItem("token"),this.$router.push("/"))}catch(t){console.error("Error during logout",t)}},async hidestaff(t){const e=window.confirm("Do you want to HIDE this item?");if(e)try{await Xe.Z.post(`/api/staffback/hide/${t}`),this.staff=this.staff.map((e=>e.staff_id===t?{...e,is_hidden:1}:e)),console.log("staffback hidden successfully")}catch(a){console.error("Error hiding staffback:",a)}},confirmDeleteStaff(t){this.editedStaff={...t},this.deleteConfirmationVisible=!0},cancelDelete(){this.editedStaff=null,this.deleteConfirmationVisible=!1},async deleteStaffConfirmed(){try{const t=`/deleteStaff/${this.editedStaff.staff_id}`,e=await Xe.Z.delete(t);console.log("Staff deleted successfully:",e.data),this.cancelDelete(),this.showSuccessNotification("Staff Deleted Successfully"),this.getStaff()}catch(t){console.error("Error deleting staff:",t),this.showErrorNotification("Failed to delete staff")}},openStaffEditModal(t){this.editedStaff={...t},this.editStaffModalVisible=!0},closeStaffEditModal(){this.editedStaff=null,this.editStaffModalVisible=!1},async saveStaffEdit(){try{const t={staff_name:this.editedStaff.staff_name,staff_email:this.editedStaff.staff_email,contactNum:this.editedStaff.contactNum},e=`/updateStaff/${this.editedStaff.staff_id}`,a=await Xe.Z.put(e,t);console.log("Staff updated successfully:",a.data),this.closeStaffEditModal(),this.showSuccessNotification("Staff Updated Successfully"),this.getStaff()}catch(t){console.error("Error updating staff:",t),this.showErrorNotification("Failed to update staff")}},showSuccessNotification(t){this.notification={show:!0,type:"success",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(t){this.notification={show:!0,type:"error",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},async saveStaff(t){try{let e={};"add"===t&&(this.staff_image instanceof FormData?(e=this.staff_image,e.append("staff_name",this.staff_name),e.append("staff_email",this.staff_email),e.append("contactNum",this.contactNum)):e={staff_name:this.staff_name,staff_email:this.staff_email,contactNum:this.contactNum});await Xe.Z.post("saveStaff",e);"add"===t&&(this.closeAddModal(),this.staff_image="",this.staff_name="",this.staff_email="",this.contactNum="",this.showSuccessNotification("Staff Added Successfully"),this.getStaff())}catch(e){console.error(e)}},async getStaff(){const t=await Xe.Z.get("/getStaff");this.staff=t.data},handleStaffImageUpload(t){const e=t.target.files[0],a=new FormData;a.append("staff_image",e),this.staff_image=a}}},ea=a(89);const aa=(0,ea.Z)(ta,[["render",Je],["__scopeId","data-v-f4cddff6"]]);var ia=aa},2894:function(t,e,a){t.exports=a.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=789.8660e527.js.map