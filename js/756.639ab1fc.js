"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[756],{3756:function(t,e,a){a.r(e),a.d(e,{default:function(){return oa}});var i=a(3396),s=a(7139),o=a(9242);const n=t=>((0,i.dD)("data-v-2235ac52"),t=t(),(0,i.Cn)(),t),l={class:"main-content"},d=["src"],c=n((()=>(0,i._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),m=n((()=>(0,i._)("span",null,"Business Dashboard",-1))),r=n((()=>(0,i._)("summary",{class:"inventory-summary"},[(0,i._)("i",{style:{padding:"10px",margin:"0"},class:"fa-solid fa-table"}),(0,i._)("span",{style:{padding:"0",margin:"0"},class:"dropdown-icon"},"▾"),(0,i._)("span",{style:{padding:"0",margin:"0"}},"Inventory Options")],-1))),f={class:"dropdown-menu"},u=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-house"},null,-1))),_=n((()=>(0,i._)("span",null,"Room Inventory",-1))),p=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),h=n((()=>(0,i._)("span",null,"Shop Inventory",-1))),y=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),b=n((()=>(0,i._)("span",null,"Cottage Inventory",-1))),g=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-utensils"},null,-1))),w=n((()=>(0,i._)("span",null,"Restaurant Reservations",-1))),A=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-person-swimming"},null,-1))),v=n((()=>(0,i._)("span",null,"Enrollment Inventory",-1))),S=n((()=>(0,i._)("i",{class:"fa-solid fa-people-group"},null,-1))),k=n((()=>(0,i._)("span",null,"Team",-1))),M=n((()=>(0,i._)("i",{class:"fas fa-user"},null,-1))),C=n((()=>(0,i._)("span",null,"Users",-1))),N=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),E=n((()=>(0,i._)("span",null,"POS",-1))),D={class:"header"},V=n((()=>(0,i._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),x=n((()=>(0,i._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),U=[x],R=n((()=>(0,i._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),Z={class:"card-main"},I={class:"content"},q={class:"row"},F={class:"content-wrapper"},$={class:"content"},z={class:"card card-default"},W={class:"card-header"},T=n((()=>(0,i._)("h2",null,"Staff List",-1))),H={class:"card-body"},O={class:"table-responsive"},Y={class:"table-product"},K=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Image"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Contact Number"),(0,i._)("th",null,"Action")])],-1))),L=["onClick"],B=["onClick"],P={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},j={class:"modal-dialog modal-dialog-centered",role:"document"},G={class:"modal-content"},J={class:"modal-header"},Q=n((()=>(0,i._)("h5",{class:"modal-title"},"Confirm Delete",-1))),X=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),tt=[X],et=n((()=>(0,i._)("div",{class:"modal-body"},[(0,i._)("p",null,"Are you sure you want to delete this staff member?")],-1))),at={class:"modal-footer"},it={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},st={class:"modal-dialog modal-dialog-centered",role:"document"},ot={class:"modal-content"},nt={class:"modal-header"},lt=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Staff",-1))),dt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),ct=[dt],mt={class:"modal-body"},rt={class:"form-group"},ft=n((()=>(0,i._)("label",{for:"staff_image"},"Staff Image",-1))),ut={class:"form-group"},_t=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),pt={class:"form-group"},ht=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),yt={class:"form-group"},bt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),gt={class:"modal-footer"},wt=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Staff",-1))),At={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},vt={class:"modal-dialog modal-dialog-centered",role:"document"},St={class:"modal-content"},kt={class:"modal-header"},Mt=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Staff",-1))),Ct=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Nt=[Ct],Et={class:"modal-body"},Dt={class:"form-group"},Vt=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),xt={class:"form-group"},Ut=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),Rt={class:"form-group"},Zt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),It={class:"modal-footer"},qt=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),Ft={class:"row"},$t={class:"content-wrapper"},zt={class:"content"},Wt={class:"card card-default"},Tt=n((()=>(0,i._)("div",{class:"card-header"},[(0,i._)("h2",null,"Assign Amenities to Rooms")],-1))),Ht={class:"card-body"},Ot={class:"table-responsive"},Yt={class:"table table-product"},Kt=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Room Name"),(0,i._)("th",null,"Select Amenities"),(0,i._)("th",null,"Assigned Amenities")])],-1))),Lt={class:"dropdown"},Bt=["onClick"],Pt={key:0,class:"dropdown-content"},jt=["id","value","checked","onChange"],Gt=["for"],Jt={class:"row"},Qt={class:"col-12"},Xt={class:"card card-default"},te={class:"card-header"},ee=n((()=>(0,i._)("h2",null,"Amenities Inventory",-1))),ae={class:"card-body"},ie={class:"table-responsive"},se={id:"amenitiesTable",class:"table table-product"},oe=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Amenity Name"),(0,i._)("th",null,"Description"),(0,i._)("th",null,"Stocks"),(0,i._)("th",null,"Action")])],-1))),ne={class:"action-buttons"},le=["onClick"],de=["onClick"],ce=["onClick"],me=["onClick"],re={key:0,class:"alert alert-success",role:"alert"},fe={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},ue={class:"modal-dialog modal-dialog-centered",role:"document"},_e={class:"modal-content"},pe={class:"modal-header"},he=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Amenity",-1))),ye=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),be=[ye],ge={class:"modal-body"},we={class:"form-group"},Ae=n((()=>(0,i._)("label",{for:"edit_amenity_name"},"Amenity Name",-1))),ve={class:"form-group"},Se=n((()=>(0,i._)("label",{for:"edit_amenity_desc"},"Amenity Description",-1))),ke={class:"modal-footer"},Me=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),Ce={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Ne={class:"modal-dialog modal-dialog-centered",role:"document"},Ee={class:"modal-content"},De={class:"modal-header"},Ve=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Stock",-1))),xe=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Ue=[xe],Re={class:"modal-body"},Ze={class:"form-group"},Ie=n((()=>(0,i._)("label",{for:"stock_amount"},"Stock Amount",-1))),qe={class:"modal-footer"},Fe=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Stock",-1))),$e={key:2,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},ze={class:"modal-dialog modal-dialog-centered",role:"document"},We={class:"modal-content"},Te={class:"modal-header"},He=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Amenity",-1))),Oe=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Ye=[Oe],Ke={class:"modal-body"},Le={class:"form-group"},Be=n((()=>(0,i._)("label",{for:"new_amenity_name"},"Amenity Name",-1))),Pe={class:"form-group"},je=n((()=>(0,i._)("label",{for:"new_amenity_desc"},"Amenity Description",-1))),Ge={class:"modal-footer"},Je=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Amenity",-1))),Qe={key:3,class:"alert alert-success",role:"alert"};function Xe(t,e,n,x,X,dt){const Ct=(0,i.up)("router-link"),ye=(0,i.up)("Notification");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",{class:(0,s.C_)(["sidebar",{collapsed:X.isSidebarCollapsed}])},[(0,i._)("img",{src:a(2894),alt:"Mono",class:"logo"},null,8,d),(0,i.Wm)(Ct,{to:"/admin2"},{default:(0,i.w5)((()=>[c,m])),_:1}),(0,i._)("details",null,[r,(0,i._)("div",f,[(0,i.Wm)(Ct,{to:"/analytics2"},{default:(0,i.w5)((()=>[u,_])),_:1}),(0,i.Wm)(Ct,{to:"/shopinventory"},{default:(0,i.w5)((()=>[p,h])),_:1}),(0,i.Wm)(Ct,{to:"/cottagebooking"},{default:(0,i.w5)((()=>[y,b])),_:1}),(0,i.Wm)(Ct,{to:"/reservations"},{default:(0,i.w5)((()=>[g,w])),_:1}),(0,i.Wm)(Ct,{to:"/enrollment"},{default:(0,i.w5)((()=>[A,v])),_:1})])]),(0,i.Wm)(Ct,{to:"/teamadmin2"},{default:(0,i.w5)((()=>[S,k])),_:1}),(0,i.Wm)(Ct,{to:"/monitorusers2"},{default:(0,i.w5)((()=>[M,C])),_:1}),(0,i.Wm)(Ct,{to:"/pos2"},{default:(0,i.w5)((()=>[N,E])),_:1})],2),(0,i._)("div",D,[V,(0,i._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...t)=>dt.toggleSidebar&&dt.toggleSidebar(...t))},U),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>dt.logout&&dt.logout(...t)),class:"btn btn-custom logout-logo-btn"},[R,(0,i.Uk)(" Logout ")])]),(0,i._)("div",Z,[(0,i._)("div",I,[(0,i._)("div",q,[(0,i._)("div",F,[(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("div",W,[T,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[2]||(e[2]=(...t)=>dt.openAddModal&&dt.openAddModal(...t))},"Add Staff")]),(0,i._)("div",H,[(0,i._)("div",O,[(0,i._)("table",Y,[K,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.staff,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,s.zw)(t.staff_id),1),(0,i._)("td",null,(0,s.zw)(t.staff_image),1),(0,i._)("td",null,(0,s.zw)(t.staff_name),1),(0,i._)("td",null,(0,s.zw)(t.staff_email),1),(0,i._)("td",null,(0,s.zw)(t.contactNum),1),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>dt.openStaffEditModal(t)},"Edit",8,L),(0,i.Uk)(" | "),(0,i._)("button",{class:"btn btn-custom",onClick:e=>dt.hidestaff(t.staff_id)},"Hide",8,B)])])))),128))])])])])])])]),X.deleteConfirmationVisible?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",j,[(0,i._)("div",G,[(0,i._)("div",J,[Q,(0,i._)("button",{type:"button",class:"close",onClick:e[3]||(e[3]=(...t)=>dt.cancelDelete&&dt.cancelDelete(...t))},tt)]),et,(0,i._)("div",at,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[4]||(e[4]=(...t)=>dt.cancelDelete&&dt.cancelDelete(...t))},"Cancel"),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>dt.deleteStaffConfirmed&&dt.deleteStaffConfirmed(...t))},"Delete")])])])])):(0,i.kq)("",!0),X.addModalVisible?((0,i.wg)(),(0,i.iD)("div",it,[(0,i._)("div",st,[(0,i._)("div",ot,[(0,i._)("div",nt,[lt,(0,i._)("button",{type:"button",class:"close",onClick:e[6]||(e[6]=(...t)=>dt.closeAddModal&&dt.closeAddModal(...t))},ct)]),(0,i._)("div",mt,[(0,i._)("form",{onSubmit:e[12]||(e[12]=(0,o.iM)((t=>dt.saveStaff("add")),["prevent"]))},[(0,i._)("div",rt,[ft,(0,i._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>dt.handleStaffImageUpload&&dt.handleStaffImageUpload(...t)),accept:"image/*",required:""},null,32)]),(0,i._)("div",ut,[_t,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[8]||(e[8]=t=>X.staff_name=t),required:""},null,512),[[o.nr,X.staff_name]])]),(0,i._)("div",pt,[ht,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[9]||(e[9]=t=>X.staff_email=t),required:""},null,512),[[o.nr,X.staff_email]])]),(0,i._)("div",yt,[bt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[10]||(e[10]=t=>X.contactNum=t),required:""},null,512),[[o.nr,X.contactNum]])]),(0,i._)("div",gt,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[11]||(e[11]=(...t)=>dt.closeAddModal&&dt.closeAddModal(...t))},"Close"),wt])],32)])])])])):(0,i.kq)("",!0)]),X.editStaffModalVisible?((0,i.wg)(),(0,i.iD)("div",At,[(0,i._)("div",vt,[(0,i._)("div",St,[(0,i._)("div",kt,[Mt,(0,i._)("button",{type:"button",class:"close",onClick:e[13]||(e[13]=(...t)=>dt.closeStaffEditModal&&dt.closeStaffEditModal(...t))},Nt)]),(0,i._)("div",Et,[(0,i._)("form",{onSubmit:e[18]||(e[18]=(0,o.iM)(((...t)=>dt.saveStaffEdit&&dt.saveStaffEdit(...t)),["prevent"]))},[(0,i._)("div",Dt,[Vt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[14]||(e[14]=t=>X.editedStaff.staff_name=t)},null,512),[[o.nr,X.editedStaff.staff_name]])]),(0,i._)("div",xt,[Ut,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[15]||(e[15]=t=>X.editedStaff.staff_email=t)},null,512),[[o.nr,X.editedStaff.staff_email]])]),(0,i._)("div",Rt,[Zt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[16]||(e[16]=t=>X.editedStaff.contactNum=t)},null,512),[[o.nr,X.editedStaff.contactNum]])]),(0,i._)("div",It,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[17]||(e[17]=(...t)=>dt.closeStaffEditModal&&dt.closeStaffEditModal(...t))},"Close"),qt])],32)])])])])):(0,i.kq)("",!0)]),(0,i._)("div",Ft,[(0,i._)("div",$t,[(0,i._)("div",zt,[(0,i._)("div",Wt,[Tt,(0,i._)("div",Ht,[(0,i._)("div",Ot,[(0,i._)("table",Yt,[Kt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.rooms,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.room_id},[(0,i._)("td",null,(0,s.zw)(t.room_name),1),(0,i._)("td",null,[(0,i._)("div",Lt,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>dt.toggleDropdown(t.room_id)}," Select Amenities ",8,Bt),dt.isDropdownOpen(t.room_id)?((0,i.wg)(),(0,i.iD)("div",Pt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.amenities,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.amenity_id},[(0,i._)("input",{type:"checkbox",id:`dropdown-amenity-${t.room_id}-${e.amenity_id}`,value:e.amenity_id,checked:t.amenities.includes(e.amenity_id),onChange:a=>dt.toggleAmenity(t.room_id,e.amenity_id)},null,40,jt),(0,i._)("label",{for:`dropdown-amenity-${t.room_id}-${e.amenity_id}`},(0,s.zw)(e.amenity_name),9,Gt)])))),128))])):(0,i.kq)("",!0)])]),(0,i._)("td",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignedAmenities,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.amenity_id},(0,s.zw)(t.amenity_name),1)))),128))])])])))),128))])])])]),(0,i.Wm)(ye,{show:X.notification.show,type:X.notification.type,message:X.notification.message},null,8,["show","type","message"])])])])]),(0,i._)("div",Jt,[(0,i._)("div",Qt,[(0,i._)("div",Xt,[(0,i._)("div",te,[ee,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[19]||(e[19]=(...t)=>dt.openAddAmenitiesModal&&dt.openAddAmenitiesModal(...t))}," Add Amenity ")]),(0,i._)("div",ae,[(0,i._)("div",ie,[(0,i._)("table",se,[oe,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(X.amenities,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t.amenity_id},[(0,i._)("td",null,(0,s.zw)(t.amenity_name),1),(0,i._)("td",null,(0,s.zw)(t.description),1),(0,i._)("td",null,(0,s.zw)(t.stock),1),(0,i._)("td",ne,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>dt.openAddStockModal(t)},"Add Stock",8,le),(0,i._)("button",{class:"btn btn-custom",onClick:e=>dt.openEditAmenitiesModal(t)},"Edit",8,de),(0,i._)("button",{class:"btn btn-danger",onClick:e=>dt.deleteAmenity(t.amenity_id)},"Delete",8,ce),(0,i._)("button",{class:"btn btn-info",onClick:e=>dt.goToAudit(t.amenity_id)},"View Audit",8,me)])])))),128))])])]),X.successMessage?((0,i.wg)(),(0,i.iD)("div",re,(0,s.zw)(X.successMessage),1)):(0,i.kq)("",!0)])])]),X.editAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",fe,[(0,i._)("div",ue,[(0,i._)("div",_e,[(0,i._)("div",pe,[he,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[20]||(e[20]=(...t)=>dt.closeEditAmenitiesModal&&dt.closeEditAmenitiesModal(...t))},be)]),(0,i._)("div",ge,[(0,i._)("form",{onSubmit:e[24]||(e[24]=(0,o.iM)(((...t)=>dt.saveEditAmenities&&dt.saveEditAmenities(...t)),["prevent"]))},[(0,i._)("div",we,[Ae,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[21]||(e[21]=t=>X.editedAmenity.amenity_name=t)},null,512),[[o.nr,X.editedAmenity.amenity_name]])]),(0,i._)("div",ve,[Se,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[22]||(e[22]=t=>X.editedAmenity.description=t)},null,512),[[o.nr,X.editedAmenity.description]])]),(0,i._)("div",ke,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[23]||(e[23]=(...t)=>dt.closeEditAmenitiesModal&&dt.closeEditAmenitiesModal(...t))}," Close "),Me])],32)])])])])):(0,i.kq)("",!0),X.addStockModalVisible?((0,i.wg)(),(0,i.iD)("div",Ce,[(0,i._)("div",Ne,[(0,i._)("div",Ee,[(0,i._)("div",De,[Ve,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[25]||(e[25]=(...t)=>dt.closeAddStockModal&&dt.closeAddStockModal(...t))},Ue)]),(0,i._)("div",Re,[(0,i._)("form",{onSubmit:e[28]||(e[28]=(0,o.iM)(((...t)=>dt.saveAddStock&&dt.saveAddStock(...t)),["prevent"]))},[(0,i._)("div",Ze,[Ie,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[26]||(e[26]=t=>X.newStock.amount=t),min:"1",required:""},null,512),[[o.nr,X.newStock.amount]])]),(0,i._)("div",qe,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[27]||(e[27]=(...t)=>dt.closeAddStockModal&&dt.closeAddStockModal(...t))},"Close"),Fe])],32)])])])])):(0,i.kq)("",!0),X.addAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",$e,[(0,i._)("div",ze,[(0,i._)("div",We,[(0,i._)("div",Te,[He,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[29]||(e[29]=(...t)=>dt.closeAddAmenitiesModal&&dt.closeAddAmenitiesModal(...t))},Ye)]),(0,i._)("div",Ke,[(0,i._)("form",{onSubmit:e[33]||(e[33]=(0,o.iM)(((...t)=>dt.saveAddAmenities&&dt.saveAddAmenities(...t)),["prevent"]))},[(0,i._)("div",Le,[Be,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[30]||(e[30]=t=>X.newAmenity.amenity_name=t)},null,512),[[o.nr,X.newAmenity.amenity_name]])]),(0,i._)("div",Pe,[je,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[31]||(e[31]=t=>X.newAmenity.description=t)},null,512),[[o.nr,X.newAmenity.description]])]),(0,i._)("div",Ge,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[32]||(e[32]=(...t)=>dt.closeAddAmenitiesModal&&dt.closeAddAmenitiesModal(...t))}," Close "),Je])],32)])])])])):(0,i.kq)("",!0),X.successMessage?((0,i.wg)(),(0,i.iD)("div",Qe,(0,s.zw)(X.successMessage),1)):(0,i.kq)("",!0)])]),(0,i.Wm)(ye,{show:X.notification.show,type:X.notification.type,message:X.notification.message},null,8,["show","type","message"])])}a(560);var ta=a(9754),ea=a(1076),aa={name:"YourComponentName",components:{Notification:ta.Z},data(){return{addStockModalVisible:!1,newStock:{amount:0},amenities:[],newAmenity:{amenity_name:"",description:""},editedAmenity:{},addAmenitiesModalVisible:!1,editAmenitiesModalVisible:!1,notification:{show:!1,type:"",message:""},rooms:[],amenities:[],newAmenity:{name:"",description:""},notification:{show:!1,type:"",message:""},openDropdowns:{},isSidebarCollapsed:!1,staff:[],addModalVisible:!1,staff_image:"",staff_name:"",staff_email:"",contactNum:"",successMessage:"",notification:{show:!1,type:"",message:""},editStaffModalVisible:!1,editedStaff:null,deleteConfirmationVisible:!1}},mounted(){this.getStaff(),this.fetchRoomsAndAmenities()},methods:{goToAudit(t){this.$router.push({name:"AmenitiesAudit",params:{amenityId:t}})},openAddStockModal(t){this.newStock.amount=0,this.editedAmenity=t,this.addStockModalVisible=!0},closeAddStockModal(){this.addStockModalVisible=!1},async saveAddStock(){try{const t=await ea.Z.post(`/api/amenities/${this.editedAmenity.amenity_id}/stock`,this.newStock);if("success"!==t.data.status)throw new Error(t.data.message||"Unknown error occurred");this.fetchAmenities(),this.closeAddStockModal(),this.showNotification("success",t.data.message)}catch(t){console.error("Error adding stock:",t),this.showNotification("error",t.response?.data?.message||"Failed to add stock")}},async fetchAmenities(){try{const t=await ea.Z.get("/api/amenities");this.amenities=t.data}catch(t){console.error("Error fetching amenities:",t),this.showNotification("error","Error fetching amenities")}},openAddAmenitiesModal(){this.newAmenity={amenity_name:"",description:""},this.addAmenitiesModalVisible=!0},closeAddAmenitiesModal(){this.addAmenitiesModalVisible=!1},async saveAddAmenities(){try{const t=await ea.Z.post("/api/amenities",this.newAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeAddAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error adding amenity:",t),this.showNotification("error","Error adding amenity")}},openEditAmenitiesModal(t){this.editedAmenity={...t},this.editAmenitiesModalVisible=!0},closeEditAmenitiesModal(){this.editAmenitiesModalVisible=!1},async saveEditAmenities(){try{const t=await ea.Z.put(`/api/amenities/${this.editedAmenity.amenity_id}`,this.editedAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeEditAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error updating amenity:",t),this.showNotification("error","Error updating amenity")}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},async deleteAmenity(t){try{const e=await ea.Z.delete(`/api/amenities/${t}`);"success"===e.data.status?(this.fetchAmenities(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete amenity.")}catch(e){console.error("Error deleting amenity:",e),this.showNotification("error","Error deleting amenity: "+e.message)}},fetchRoomsAndAmenities(){ea.Z.get("/getRoom").then((t=>{console.log("Rooms data:",t.data),this.rooms=t.data.map((t=>({...t,amenities:t.amenities?t.amenities.map((t=>t.amenity_id)):[],assignedAmenities:[]}))),this.rooms.forEach((t=>this.getAmenitiesForRoom(t.room_id)))})).catch((t=>{console.error("Error fetching rooms:",t)})),ea.Z.get("/getAllAmenities").then((t=>{console.log("Amenities data:",t.data),this.amenities=t.data})).catch((t=>{console.error("Error fetching amenities:",t)}))},toggleAmenity(t,e){const a=this.rooms.find((e=>e.room_id===t)),i=a.amenities.indexOf(e);i>-1?a.amenities.splice(i,1):a.amenities.push(e),this.updateRoomAmenities(t,a.amenities)},updateRoomAmenities(t,e){ea.Z.post(`/assignAmenitiesToRoom/${t}`,{amenities:e}).then((e=>{"success"!==e.data.status?this.showNotification("error","Failed to update amenities"):this.getAmenitiesForRoom(t)})).catch((t=>{console.error("Error updating room amenities:",t),this.showNotification("error","Failed to update amenities")}))},addAmenity(){const t={amenity_name:this.newAmenity.name,description:this.newAmenity.description};ea.Z.post("/addAmenity",t).then((t=>{"success"===t.data.status?(this.fetchRoomsAndAmenities(),this.newAmenity.name="",this.newAmenity.description="",this.showNotification("success","Amenity added successfully")):this.showNotification("error","Failed to add amenity")})).catch((t=>{console.error("Error adding amenity:",t),this.showNotification("error","Failed to add amenity")}))},showNotification(t,e){this.notification={show:!0,type:t,message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},toggleDropdown(t){this.openDropdowns={...this.openDropdowns,[t]:!this.openDropdowns[t]}},isDropdownOpen(t){return!!this.openDropdowns[t]},getAmenitiesForRoom(t){ea.Z.get(`/getAmenitiesForRoom/${t}`).then((e=>{console.log("Amenities response:",e.data);const a=this.rooms.find((e=>e.room_id===t));a&&(a.assignedAmenities=e.data)})).catch((t=>{console.error("Error fetching amenities for room:",t)}))},toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed},async logout(){try{const t=await ea.Z.post("/logout");200===t.status&&(console.log("Logout successful"),sessionStorage.removeItem("token"),this.$router.push("/"))}catch(t){console.error("Error during logout",t)}},async hidestaff(t){const e=window.confirm("Do you want to HIDE this item?");if(e)try{await ea.Z.post(`/api/staffback/hide/${t}`),this.staff=this.staff.map((e=>e.staff_id===t?{...e,is_hidden:1}:e)),console.log("staffback hidden successfully")}catch(a){console.error("Error hiding staffback:",a)}},confirmDeleteStaff(t){this.editedStaff={...t},this.deleteConfirmationVisible=!0},cancelDelete(){this.editedStaff=null,this.deleteConfirmationVisible=!1},async deleteStaffConfirmed(){try{const t=`/deleteStaff/${this.editedStaff.staff_id}`,e=await ea.Z.delete(t);console.log("Staff deleted successfully:",e.data),this.cancelDelete(),this.showSuccessNotification("Staff Deleted Successfully"),this.getStaff()}catch(t){console.error("Error deleting staff:",t),this.showErrorNotification("Failed to delete staff")}},openStaffEditModal(t){this.editedStaff={...t},this.editStaffModalVisible=!0},closeStaffEditModal(){this.editedStaff=null,this.editStaffModalVisible=!1},async saveStaffEdit(){try{const t={staff_name:this.editedStaff.staff_name,staff_email:this.editedStaff.staff_email,contactNum:this.editedStaff.contactNum},e=`/updateStaff/${this.editedStaff.staff_id}`,a=await ea.Z.put(e,t);console.log("Staff updated successfully:",a.data),this.closeStaffEditModal(),this.showSuccessNotification("Staff Updated Successfully"),this.getStaff()}catch(t){console.error("Error updating staff:",t),this.showErrorNotification("Failed to update staff")}},showSuccessNotification(t){this.notification={show:!0,type:"success",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(t){this.notification={show:!0,type:"error",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},async saveStaff(t){try{let e={};"add"===t&&(this.staff_image instanceof FormData?(e=this.staff_image,e.append("staff_name",this.staff_name),e.append("staff_email",this.staff_email),e.append("contactNum",this.contactNum)):e={staff_name:this.staff_name,staff_email:this.staff_email,contactNum:this.contactNum});await ea.Z.post("saveStaff",e);"add"===t&&(this.closeAddModal(),this.staff_image="",this.staff_name="",this.staff_email="",this.contactNum="",this.showSuccessNotification("Staff Added Successfully"),this.getStaff())}catch(e){console.error(e)}},async getStaff(){const t=await ea.Z.get("/getStaff");this.staff=t.data},handleStaffImageUpload(t){const e=t.target.files[0],a=new FormData;a.append("staff_image",e),this.staff_image=a}}},ia=a(89);const sa=(0,ia.Z)(aa,[["render",Xe],["__scopeId","data-v-2235ac52"]]);var oa=sa},2894:function(t,e,a){t.exports=a.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=756.639ab1fc.js.map