"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[724],{2724:function(s,e,a){a.r(e),a.d(e,{default:function(){return x}});var o=a(3396),t=a(9242),r=a(7139),l=a(2701);const n=s=>((0,o.dD)("data-v-7de3ec38"),s=s(),(0,o.Cn)(),s),i={class:"login-container"},d={class:"overlay"},c={class:"form-container"},g=n((()=>(0,o._)("div",{class:"logo text-end"},[(0,o._)("img",{src:l,alt:"Eduardo's Resort Logo"})],-1))),p=n((()=>(0,o._)("h2",{class:"login-title"},"Login",-1))),m={class:"form-floating mb-3"},u=n((()=>(0,o._)("label",{for:"email",class:"form-label"},"Email Address",-1))),w={class:"form-floating mb-3 position-relative"},f=["type"],h=n((()=>(0,o._)("label",{for:"password",class:"form-label"},"Password",-1))),_={key:0,class:"alert alert-danger text-center"},v=n((()=>(0,o._)("button",{type:"submit",class:"btn btn-login w-100 mb-3"},"Sign In",-1))),b={class:"text-center"},k=n((()=>(0,o._)("span",{class:"mx-2"},"|",-1)));function y(s,e,a,l,n,y){const P=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",d,[(0,o._)("div",c,[g,p,(0,o._)("form",{onSubmit:e[3]||(e[3]=(0,t.iM)(((...s)=>y.login&&y.login(...s)),["prevent"]))},[(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=s=>n.email=s),required:"",placeholder:"Email"},null,512),[[t.nr,n.email]]),u]),(0,o._)("div",w,[(0,o.wy)((0,o._)("input",{type:n.showPassword?"text":"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=s=>n.password=s),required:"",minlength:"8",placeholder:"Password"},null,8,f),[[t.YZ,n.password]]),h,(0,o._)("span",{class:"password-toggle",onClick:e[2]||(e[2]=(...s)=>y.togglePassword&&y.togglePassword(...s))},[(0,o._)("i",{class:(0,r.C_)(n.showPassword?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),n.errorMessage?((0,o.wg)(),(0,o.iD)("p",_,(0,r.zw)(n.errorMessage),1)):(0,o.kq)("",!0),v,(0,o._)("div",b,[(0,o.Wm)(P,{class:"link",to:"/register"},{default:(0,o.w5)((()=>[(0,o.Uk)("Don't have an account yet?")])),_:1}),k,(0,o.Wm)(P,{class:"link",to:"/reset-password"},{default:(0,o.w5)((()=>[(0,o.Uk)("Forgot Password?")])),_:1})])],32)])])])}a(560);var P=a(1076),C=a(8690),I={data(){return{email:"",password:"",showPassword:!1,errorMessage:""}},methods:{togglePassword(){this.showPassword=!this.showPassword},login(){const s={email:this.email,password:this.password};P.Z.post("/login",JSON.stringify(s),{headers:{"Content-Type":"application/json"}}).then((s=>{console.log(s.data),"Login successful"===s.data.message&&(sessionStorage.setItem("token",s.data.token),sessionStorage.setItem("id",s.data.id),sessionStorage.setItem("book_id",s.data.book_id),"admin"===s.data.role?C.Z.push("/admin2"):C.Z.push("/user"))})).catch((s=>{console.error(s),this.errorMessage="Invalid email or password, try again!",setTimeout((()=>{this.errorMessage=""}),1e3)}))}}},M=a(89);const S=(0,M.Z)(I,[["render",y],["__scopeId","data-v-7de3ec38"]]);var x=S}}]);
//# sourceMappingURL=724.80ef7054.js.map