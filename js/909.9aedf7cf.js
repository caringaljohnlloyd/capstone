"use strict";(self["webpackChunkeduardo_app"]=self["webpackChunkeduardo_app"]||[]).push([[909],{1909:function(t,e,a){a.r(e),a.d(e,{default:function(){return la}});var i=a(3396),s=a(7139),o=a(9242);const n=t=>((0,i.dD)("data-v-4da2e16e"),t=t(),(0,i.Cn)(),t),l={class:"main-content"},d=["src"],c=n((()=>(0,i._)("i",{class:"fa-solid fa-chart-simple"},null,-1))),m=n((()=>(0,i._)("span",null,"Business Dashboard",-1))),r=n((()=>(0,i._)("summary",{class:"inventory-summary"},[(0,i._)("i",{style:{padding:"10px",margin:"0"},class:"fa-solid fa-table"}),(0,i._)("span",{style:{padding:"0",margin:"0"},class:"dropdown-icon"},"▾"),(0,i._)("span",{style:{padding:"0",margin:"0"}},"Inventory Options")],-1))),f={class:"dropdown-menu"},u=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-house"},null,-1))),_=n((()=>(0,i._)("span",null,"Room Inventory",-1))),p=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),h=n((()=>(0,i._)("span",null,"Shop Inventory",-1))),y=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-shop"},null,-1))),b=n((()=>(0,i._)("span",null,"Cottage Inventory",-1))),g=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-utensils"},null,-1))),w=n((()=>(0,i._)("span",null,"Restaurant Reservations",-1))),A=n((()=>(0,i._)("i",{style:{"padding-right":"20px"},class:"fa-solid fa-person-swimming"},null,-1))),v=n((()=>(0,i._)("span",null,"Enrollment Inventory",-1))),S=n((()=>(0,i._)("i",{class:"fa-solid fa-people-group"},null,-1))),k=n((()=>(0,i._)("span",null,"Team",-1))),M=n((()=>(0,i._)("i",{class:"fas fa-user"},null,-1))),C=n((()=>(0,i._)("span",null,"Users",-1))),N=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),E=n((()=>(0,i._)("span",null,"POS",-1))),D=n((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus"},null,-1))),V=n((()=>(0,i._)("span",null,"History",-1))),x={class:"header"},U=n((()=>(0,i._)("h1",{class:"h1-main"},"EDUARDO'S ADMIN",-1))),R=n((()=>(0,i._)("i",{class:"fa-solid fa-bars",style:{padding:"5px",margin:"5px",width:"40px"}},null,-1))),Z=[R],I=n((()=>(0,i._)("i",{class:"fas fa-power-off logout-icon"},null,-1))),q={class:"card-main"},F={class:"content"},$={class:"row"},z={class:"content-wrapper"},W={class:"content"},T={class:"card card-default"},H={class:"card-header"},O=n((()=>(0,i._)("h2",null,"Staff List",-1))),Y={class:"card-body"},K={class:"table-responsive"},L={class:"table-product"},B=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"ID"),(0,i._)("th",null,"Image"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Contact Number"),(0,i._)("th",null,"Action")])],-1))),P=["onClick"],j=["onClick"],G={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},J={class:"modal-dialog modal-dialog-centered",role:"document"},Q={class:"modal-content"},X={class:"modal-header"},tt=n((()=>(0,i._)("h5",{class:"modal-title"},"Confirm Delete",-1))),et=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),at=[et],it=n((()=>(0,i._)("div",{class:"modal-body"},[(0,i._)("p",null,"Are you sure you want to delete this staff member?")],-1))),st={class:"modal-footer"},ot={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},nt={class:"modal-dialog modal-dialog-centered",role:"document"},lt={class:"modal-content"},dt={class:"modal-header"},ct=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Staff",-1))),mt=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),rt=[mt],ft={class:"modal-body"},ut={class:"form-group"},_t=n((()=>(0,i._)("label",{for:"staff_image"},"Staff Image",-1))),pt={class:"form-group"},ht=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),yt={class:"form-group"},bt=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),gt={class:"form-group"},wt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),At={class:"modal-footer"},vt=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Staff",-1))),St={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},kt={class:"modal-dialog modal-dialog-centered",role:"document"},Mt={class:"modal-content"},Ct={class:"modal-header"},Nt=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Staff",-1))),Et=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Dt=[Et],Vt={class:"modal-body"},xt={class:"form-group"},Ut=n((()=>(0,i._)("label",{for:"staff_name"},"Staff Name",-1))),Rt={class:"form-group"},Zt=n((()=>(0,i._)("label",{for:"staff_email"},"Staff Email",-1))),It={class:"form-group"},qt=n((()=>(0,i._)("label",{for:"contactNum"},"Contact Number",-1))),Ft={class:"modal-footer"},$t=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),zt={class:"row"},Wt={class:"content-wrapper"},Tt={class:"content"},Ht={class:"card card-default"},Ot=n((()=>(0,i._)("div",{class:"card-header"},[(0,i._)("h2",null,"Assign Amenities to Rooms")],-1))),Yt={class:"card-body"},Kt={class:"table-responsive"},Lt={class:"table table-product"},Bt=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Room Name"),(0,i._)("th",null,"Select Amenities"),(0,i._)("th",null,"Assigned Amenities")])],-1))),Pt={class:"dropdown"},jt=["onClick"],Gt={key:0,class:"dropdown-content"},Jt=["id","value","checked","onChange"],Qt=["for"],Xt={class:"row"},te={class:"col-12"},ee={class:"card card-default"},ae={class:"card-header"},ie=n((()=>(0,i._)("h2",null,"Amenities Inventory",-1))),se={class:"card-body"},oe={class:"table-responsive"},ne={id:"amenitiesTable",class:"table table-product"},le=n((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Amenity Name"),(0,i._)("th",null,"Description"),(0,i._)("th",null,"Stocks"),(0,i._)("th",null,"Action")])],-1))),de={class:"action-buttons"},ce=["onClick"],me=["onClick"],re=["onClick"],fe=["onClick"],ue={key:0,class:"alert alert-success",role:"alert"},_e={key:0,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},pe={class:"modal-dialog modal-dialog-centered",role:"document"},he={class:"modal-content"},ye={class:"modal-header"},be=n((()=>(0,i._)("h5",{class:"modal-title"},"Edit Amenity",-1))),ge=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),we=[ge],Ae={class:"modal-body"},ve={class:"form-group"},Se=n((()=>(0,i._)("label",{for:"edit_amenity_name"},"Amenity Name",-1))),ke={class:"form-group"},Me=n((()=>(0,i._)("label",{for:"edit_amenity_desc"},"Amenity Description",-1))),Ce={class:"modal-footer"},Ne=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Save Changes",-1))),Ee={key:1,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},De={class:"modal-dialog modal-dialog-centered",role:"document"},Ve={class:"modal-content"},xe={class:"modal-header"},Ue=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Stock",-1))),Re=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Ze=[Re],Ie={class:"modal-body"},qe={class:"form-group"},Fe=n((()=>(0,i._)("label",{for:"stock_amount"},"Stock Amount",-1))),$e={class:"modal-footer"},ze=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Stock",-1))),We={key:2,class:"modal",tabindex:"-1",role:"dialog",style:{display:"block"}},Te={class:"modal-dialog modal-dialog-centered",role:"document"},He={class:"modal-content"},Oe={class:"modal-header"},Ye=n((()=>(0,i._)("h5",{class:"modal-title"},"Add Amenity",-1))),Ke=n((()=>(0,i._)("span",{"aria-hidden":"true"},"×",-1))),Le=[Ke],Be={class:"modal-body"},Pe={class:"form-group"},je=n((()=>(0,i._)("label",{for:"new_amenity_name"},"Amenity Name",-1))),Ge={class:"form-group"},Je=n((()=>(0,i._)("label",{for:"new_amenity_desc"},"Amenity Description",-1))),Qe={class:"modal-footer"},Xe=n((()=>(0,i._)("button",{type:"submit",class:"btn btn-custom"},"Add Amenity",-1))),ta={key:3,class:"alert alert-success",role:"alert"};function ea(t,e,n,R,et,mt){const Et=(0,i.up)("router-link"),ge=(0,i.up)("Notification");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",{class:(0,s.C_)(["sidebar",{collapsed:et.isSidebarCollapsed}])},[(0,i._)("img",{src:a(2894),alt:"Mono",class:"logo"},null,8,d),(0,i.Wm)(Et,{to:"/admin2"},{default:(0,i.w5)((()=>[c,m])),_:1}),(0,i._)("details",null,[r,(0,i._)("div",f,[(0,i.Wm)(Et,{to:"/analytics2"},{default:(0,i.w5)((()=>[u,_])),_:1}),(0,i.Wm)(Et,{to:"/shopinventory"},{default:(0,i.w5)((()=>[p,h])),_:1}),(0,i.Wm)(Et,{to:"/cottagebooking"},{default:(0,i.w5)((()=>[y,b])),_:1}),(0,i.Wm)(Et,{to:"/reservations"},{default:(0,i.w5)((()=>[g,w])),_:1}),(0,i.Wm)(Et,{to:"/enrollment"},{default:(0,i.w5)((()=>[A,v])),_:1})])]),(0,i.Wm)(Et,{to:"/teamadmin2"},{default:(0,i.w5)((()=>[S,k])),_:1}),(0,i.Wm)(Et,{to:"/monitorusers2"},{default:(0,i.w5)((()=>[M,C])),_:1}),(0,i.Wm)(Et,{to:"/pos2"},{default:(0,i.w5)((()=>[N,E])),_:1}),(0,i.Wm)(Et,{to:"/history"},{default:(0,i.w5)((()=>[D,V])),_:1})],2),(0,i._)("div",x,[U,(0,i._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...t)=>mt.toggleSidebar&&mt.toggleSidebar(...t))},Z),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>mt.logout&&mt.logout(...t)),class:"btn btn-custom logout-logo-btn"},[I,(0,i.Uk)(" Logout ")])]),(0,i._)("div",q,[(0,i._)("div",F,[(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("div",W,[(0,i._)("div",T,[(0,i._)("div",H,[O,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[2]||(e[2]=(...t)=>mt.openAddModal&&mt.openAddModal(...t))},"Add Staff")]),(0,i._)("div",Y,[(0,i._)("div",K,[(0,i._)("table",L,[B,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.staff,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,s.zw)(t.staff_id),1),(0,i._)("td",null,(0,s.zw)(t.staff_image),1),(0,i._)("td",null,(0,s.zw)(t.staff_name),1),(0,i._)("td",null,(0,s.zw)(t.staff_email),1),(0,i._)("td",null,(0,s.zw)(t.contactNum),1),(0,i._)("td",null,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>mt.openStaffEditModal(t)},"Edit",8,P),(0,i.Uk)(" | "),(0,i._)("button",{class:"btn btn-custom",onClick:e=>mt.hidestaff(t.staff_id)},"Hide",8,j)])])))),128))])])])])])])]),et.deleteConfirmationVisible?((0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("div",J,[(0,i._)("div",Q,[(0,i._)("div",X,[tt,(0,i._)("button",{type:"button",class:"close",onClick:e[3]||(e[3]=(...t)=>mt.cancelDelete&&mt.cancelDelete(...t))},at)]),it,(0,i._)("div",st,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[4]||(e[4]=(...t)=>mt.cancelDelete&&mt.cancelDelete(...t))},"Cancel"),(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>mt.deleteStaffConfirmed&&mt.deleteStaffConfirmed(...t))},"Delete")])])])])):(0,i.kq)("",!0),et.addModalVisible?((0,i.wg)(),(0,i.iD)("div",ot,[(0,i._)("div",nt,[(0,i._)("div",lt,[(0,i._)("div",dt,[ct,(0,i._)("button",{type:"button",class:"close",onClick:e[6]||(e[6]=(...t)=>mt.closeAddModal&&mt.closeAddModal(...t))},rt)]),(0,i._)("div",ft,[(0,i._)("form",{onSubmit:e[12]||(e[12]=(0,o.iM)((t=>mt.saveStaff("add")),["prevent"]))},[(0,i._)("div",ut,[_t,(0,i._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>mt.handleStaffImageUpload&&mt.handleStaffImageUpload(...t)),accept:"image/*",required:""},null,32)]),(0,i._)("div",pt,[ht,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[8]||(e[8]=t=>et.staff_name=t),required:""},null,512),[[o.nr,et.staff_name]])]),(0,i._)("div",yt,[bt,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[9]||(e[9]=t=>et.staff_email=t),required:""},null,512),[[o.nr,et.staff_email]])]),(0,i._)("div",gt,[wt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[10]||(e[10]=t=>et.contactNum=t),required:""},null,512),[[o.nr,et.contactNum]])]),(0,i._)("div",At,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[11]||(e[11]=(...t)=>mt.closeAddModal&&mt.closeAddModal(...t))},"Close"),vt])],32)])])])])):(0,i.kq)("",!0)]),et.editStaffModalVisible?((0,i.wg)(),(0,i.iD)("div",St,[(0,i._)("div",kt,[(0,i._)("div",Mt,[(0,i._)("div",Ct,[Nt,(0,i._)("button",{type:"button",class:"close",onClick:e[13]||(e[13]=(...t)=>mt.closeStaffEditModal&&mt.closeStaffEditModal(...t))},Dt)]),(0,i._)("div",Vt,[(0,i._)("form",{onSubmit:e[18]||(e[18]=(0,o.iM)(((...t)=>mt.saveStaffEdit&&mt.saveStaffEdit(...t)),["prevent"]))},[(0,i._)("div",xt,[Ut,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[14]||(e[14]=t=>et.editedStaff.staff_name=t)},null,512),[[o.nr,et.editedStaff.staff_name]])]),(0,i._)("div",Rt,[Zt,(0,i.wy)((0,i._)("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[15]||(e[15]=t=>et.editedStaff.staff_email=t)},null,512),[[o.nr,et.editedStaff.staff_email]])]),(0,i._)("div",It,[qt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Contact Number","onUpdate:modelValue":e[16]||(e[16]=t=>et.editedStaff.contactNum=t)},null,512),[[o.nr,et.editedStaff.contactNum]])]),(0,i._)("div",Ft,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[17]||(e[17]=(...t)=>mt.closeStaffEditModal&&mt.closeStaffEditModal(...t))},"Close"),$t])],32)])])])])):(0,i.kq)("",!0)]),(0,i._)("div",zt,[(0,i._)("div",Wt,[(0,i._)("div",Tt,[(0,i._)("div",Ht,[Ot,(0,i._)("div",Yt,[(0,i._)("div",Kt,[(0,i._)("table",Lt,[Bt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.rooms,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.room_id},[(0,i._)("td",null,(0,s.zw)(t.room_name),1),(0,i._)("td",null,[(0,i._)("div",Pt,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>mt.toggleDropdown(t.room_id)}," Select Amenities ",8,jt),mt.isDropdownOpen(t.room_id)?((0,i.wg)(),(0,i.iD)("div",Gt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.amenities,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.amenity_id},[(0,i._)("input",{type:"checkbox",id:`dropdown-amenity-${t.room_id}-${e.amenity_id}`,value:e.amenity_id,checked:t.amenities.includes(e.amenity_id),onChange:a=>mt.toggleAmenity(t.room_id,e.amenity_id)},null,40,Jt),(0,i._)("label",{for:`dropdown-amenity-${t.room_id}-${e.amenity_id}`},(0,s.zw)(e.amenity_name),9,Qt)])))),128))])):(0,i.kq)("",!0)])]),(0,i._)("td",null,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignedAmenities,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.amenity_id},(0,s.zw)(t.amenity_name),1)))),128))])])])))),128))])])])]),(0,i.Wm)(ge,{show:et.notification.show,type:et.notification.type,message:et.notification.message},null,8,["show","type","message"])])])])]),(0,i._)("div",Xt,[(0,i._)("div",te,[(0,i._)("div",ee,[(0,i._)("div",ae,[ie,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[19]||(e[19]=(...t)=>mt.openAddAmenitiesModal&&mt.openAddAmenitiesModal(...t))}," Add Amenity ")]),(0,i._)("div",se,[(0,i._)("div",oe,[(0,i._)("table",ne,[le,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(et.amenities,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t.amenity_id},[(0,i._)("td",null,(0,s.zw)(t.amenity_name),1),(0,i._)("td",null,(0,s.zw)(t.description),1),(0,i._)("td",null,(0,s.zw)(t.stock),1),(0,i._)("td",de,[(0,i._)("button",{class:"btn btn-custom",onClick:e=>mt.openAddStockModal(t)},"Add Stock",8,ce),(0,i._)("button",{class:"btn btn-custom",onClick:e=>mt.openEditAmenitiesModal(t)},"Edit",8,me),(0,i._)("button",{class:"btn btn-danger",onClick:e=>mt.deleteAmenity(t.amenity_id)},"Delete",8,re),(0,i._)("button",{class:"btn btn-info",onClick:e=>mt.goToAudit(t.amenity_id)},"View Audit",8,fe)])])))),128))])])]),et.successMessage?((0,i.wg)(),(0,i.iD)("div",ue,(0,s.zw)(et.successMessage),1)):(0,i.kq)("",!0)])])]),et.editAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",_e,[(0,i._)("div",pe,[(0,i._)("div",he,[(0,i._)("div",ye,[be,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[20]||(e[20]=(...t)=>mt.closeEditAmenitiesModal&&mt.closeEditAmenitiesModal(...t))},we)]),(0,i._)("div",Ae,[(0,i._)("form",{onSubmit:e[24]||(e[24]=(0,o.iM)(((...t)=>mt.saveEditAmenities&&mt.saveEditAmenities(...t)),["prevent"]))},[(0,i._)("div",ve,[Se,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[21]||(e[21]=t=>et.editedAmenity.amenity_name=t)},null,512),[[o.nr,et.editedAmenity.amenity_name]])]),(0,i._)("div",ke,[Me,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[22]||(e[22]=t=>et.editedAmenity.description=t)},null,512),[[o.nr,et.editedAmenity.description]])]),(0,i._)("div",Ce,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[23]||(e[23]=(...t)=>mt.closeEditAmenitiesModal&&mt.closeEditAmenitiesModal(...t))}," Close "),Ne])],32)])])])])):(0,i.kq)("",!0),et.addStockModalVisible?((0,i.wg)(),(0,i.iD)("div",Ee,[(0,i._)("div",De,[(0,i._)("div",Ve,[(0,i._)("div",xe,[Ue,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[25]||(e[25]=(...t)=>mt.closeAddStockModal&&mt.closeAddStockModal(...t))},Ze)]),(0,i._)("div",Ie,[(0,i._)("form",{onSubmit:e[28]||(e[28]=(0,o.iM)(((...t)=>mt.saveAddStock&&mt.saveAddStock(...t)),["prevent"]))},[(0,i._)("div",qe,[Fe,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[26]||(e[26]=t=>et.newStock.amount=t),min:"1",required:""},null,512),[[o.nr,et.newStock.amount]])]),(0,i._)("div",$e,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[27]||(e[27]=(...t)=>mt.closeAddStockModal&&mt.closeAddStockModal(...t))},"Close"),ze])],32)])])])])):(0,i.kq)("",!0),et.addAmenitiesModalVisible?((0,i.wg)(),(0,i.iD)("div",We,[(0,i._)("div",Te,[(0,i._)("div",He,[(0,i._)("div",Oe,[Ye,(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[29]||(e[29]=(...t)=>mt.closeAddAmenitiesModal&&mt.closeAddAmenitiesModal(...t))},Le)]),(0,i._)("div",Be,[(0,i._)("form",{onSubmit:e[33]||(e[33]=(0,o.iM)(((...t)=>mt.saveAddAmenities&&mt.saveAddAmenities(...t)),["prevent"]))},[(0,i._)("div",Pe,[je,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[30]||(e[30]=t=>et.newAmenity.amenity_name=t)},null,512),[[o.nr,et.newAmenity.amenity_name]])]),(0,i._)("div",Ge,[Je,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[31]||(e[31]=t=>et.newAmenity.description=t)},null,512),[[o.nr,et.newAmenity.description]])]),(0,i._)("div",Qe,[(0,i._)("button",{type:"button",class:"btn btn-custom",onClick:e[32]||(e[32]=(...t)=>mt.closeAddAmenitiesModal&&mt.closeAddAmenitiesModal(...t))}," Close "),Xe])],32)])])])])):(0,i.kq)("",!0),et.successMessage?((0,i.wg)(),(0,i.iD)("div",ta,(0,s.zw)(et.successMessage),1)):(0,i.kq)("",!0)])]),(0,i.Wm)(ge,{show:et.notification.show,type:et.notification.type,message:et.notification.message},null,8,["show","type","message"])])}a(560);var aa=a(9754),ia=a(1076),sa={name:"YourComponentName",components:{Notification:aa.Z},data(){return{addStockModalVisible:!1,newStock:{amount:0},amenities:[],newAmenity:{amenity_name:"",description:""},editedAmenity:{},addAmenitiesModalVisible:!1,editAmenitiesModalVisible:!1,notification:{show:!1,type:"",message:""},rooms:[],amenities:[],newAmenity:{name:"",description:""},notification:{show:!1,type:"",message:""},openDropdowns:{},isSidebarCollapsed:!1,staff:[],addModalVisible:!1,staff_image:"",staff_name:"",staff_email:"",contactNum:"",successMessage:"",notification:{show:!1,type:"",message:""},editStaffModalVisible:!1,editedStaff:null,deleteConfirmationVisible:!1}},mounted(){this.getStaff(),this.fetchRoomsAndAmenities()},methods:{goToAudit(t){this.$router.push({name:"AmenitiesAudit",params:{amenityId:t}})},openAddStockModal(t){this.newStock.amount=0,this.editedAmenity=t,this.addStockModalVisible=!0},closeAddStockModal(){this.addStockModalVisible=!1},async saveAddStock(){try{const t=await ia.Z.post(`/api/amenities/${this.editedAmenity.amenity_id}/stock`,this.newStock);if("success"!==t.data.status)throw new Error(t.data.message||"Unknown error occurred");this.fetchAmenities(),this.closeAddStockModal(),this.showNotification("success",t.data.message)}catch(t){console.error("Error adding stock:",t),this.showNotification("error",t.response?.data?.message||"Failed to add stock")}},async fetchAmenities(){try{const t=await ia.Z.get("/api/amenities");this.amenities=t.data}catch(t){console.error("Error fetching amenities:",t),this.showNotification("error","Error fetching amenities")}},openAddAmenitiesModal(){this.newAmenity={amenity_name:"",description:""},this.addAmenitiesModalVisible=!0},closeAddAmenitiesModal(){this.addAmenitiesModalVisible=!1},async saveAddAmenities(){try{const t=await ia.Z.post("/api/amenities",this.newAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeAddAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error adding amenity:",t),this.showNotification("error","Error adding amenity")}},openEditAmenitiesModal(t){this.editedAmenity={...t},this.editAmenitiesModalVisible=!0},closeEditAmenitiesModal(){this.editAmenitiesModalVisible=!1},async saveEditAmenities(){try{const t=await ia.Z.put(`/api/amenities/${this.editedAmenity.amenity_id}`,this.editedAmenity);"success"===t.data.status&&(this.fetchAmenities(),this.closeEditAmenitiesModal(),this.showNotification("success",t.data.message))}catch(t){console.error("Error updating amenity:",t),this.showNotification("error","Error updating amenity")}},showNotification(t,e){this.notification.type=t,this.notification.message=e,this.notification.show=!0,setTimeout((()=>{this.notification.show=!1}),2e3)},async deleteAmenity(t){try{const e=await ia.Z.delete(`/api/amenities/${t}`);"success"===e.data.status?(this.fetchAmenities(),this.showNotification("success",e.data.message)):this.showNotification("error",e.data.message||"Failed to delete amenity.")}catch(e){console.error("Error deleting amenity:",e),this.showNotification("error","Error deleting amenity: "+e.message)}},fetchRoomsAndAmenities(){ia.Z.get("/getRoom").then((t=>{console.log("Rooms data:",t.data),this.rooms=t.data.map((t=>({...t,amenities:t.amenities?t.amenities.map((t=>t.amenity_id)):[],assignedAmenities:[]}))),this.rooms.forEach((t=>this.getAmenitiesForRoom(t.room_id)))})).catch((t=>{console.error("Error fetching rooms:",t)})),ia.Z.get("/getAllAmenities").then((t=>{console.log("Amenities data:",t.data),this.amenities=t.data})).catch((t=>{console.error("Error fetching amenities:",t)}))},toggleAmenity(t,e){const a=this.rooms.find((e=>e.room_id===t)),i=a.amenities.indexOf(e);i>-1?a.amenities.splice(i,1):a.amenities.push(e),this.updateRoomAmenities(t,a.amenities)},updateRoomAmenities(t,e){ia.Z.post(`/assignAmenitiesToRoom/${t}`,{amenities:e}).then((e=>{"success"!==e.data.status?this.showNotification("error","Failed to update amenities"):this.getAmenitiesForRoom(t)})).catch((t=>{console.error("Error updating room amenities:",t),this.showNotification("error","Failed to update amenities")}))},addAmenity(){const t={amenity_name:this.newAmenity.name,description:this.newAmenity.description};ia.Z.post("/addAmenity",t).then((t=>{"success"===t.data.status?(this.fetchRoomsAndAmenities(),this.newAmenity.name="",this.newAmenity.description="",this.showNotification("success","Amenity added successfully")):this.showNotification("error","Failed to add amenity")})).catch((t=>{console.error("Error adding amenity:",t),this.showNotification("error","Failed to add amenity")}))},showNotification(t,e){this.notification={show:!0,type:t,message:e},setTimeout((()=>{this.notification.show=!1}),2e3)},toggleDropdown(t){this.openDropdowns={...this.openDropdowns,[t]:!this.openDropdowns[t]}},isDropdownOpen(t){return!!this.openDropdowns[t]},getAmenitiesForRoom(t){ia.Z.get(`/getAmenitiesForRoom/${t}`).then((e=>{console.log("Amenities response:",e.data);const a=this.rooms.find((e=>e.room_id===t));a&&(a.assignedAmenities=e.data)})).catch((t=>{console.error("Error fetching amenities for room:",t)}))},toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed},async logout(){try{const t=await ia.Z.post("/logout");200===t.status&&(console.log("Logout successful"),sessionStorage.removeItem("token"),this.$router.push("/"))}catch(t){console.error("Error during logout",t)}},async hidestaff(t){const e=window.confirm("Do you want to HIDE this item?");if(e)try{await ia.Z.post(`/api/staffback/hide/${t}`),this.staff=this.staff.map((e=>e.staff_id===t?{...e,is_hidden:1}:e)),console.log("staffback hidden successfully")}catch(a){console.error("Error hiding staffback:",a)}},confirmDeleteStaff(t){this.editedStaff={...t},this.deleteConfirmationVisible=!0},cancelDelete(){this.editedStaff=null,this.deleteConfirmationVisible=!1},async deleteStaffConfirmed(){try{const t=`/deleteStaff/${this.editedStaff.staff_id}`,e=await ia.Z.delete(t);console.log("Staff deleted successfully:",e.data),this.cancelDelete(),this.showSuccessNotification("Staff Deleted Successfully"),this.getStaff()}catch(t){console.error("Error deleting staff:",t),this.showErrorNotification("Failed to delete staff")}},openStaffEditModal(t){this.editedStaff={...t},this.editStaffModalVisible=!0},closeStaffEditModal(){this.editedStaff=null,this.editStaffModalVisible=!1},async saveStaffEdit(){try{const t={staff_name:this.editedStaff.staff_name,staff_email:this.editedStaff.staff_email,contactNum:this.editedStaff.contactNum},e=`/updateStaff/${this.editedStaff.staff_id}`,a=await ia.Z.put(e,t);console.log("Staff updated successfully:",a.data),this.closeStaffEditModal(),this.showSuccessNotification("Staff Updated Successfully"),this.getStaff()}catch(t){console.error("Error updating staff:",t),this.showErrorNotification("Failed to update staff")}},showSuccessNotification(t){this.notification={show:!0,type:"success",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},showErrorNotification(t){this.notification={show:!0,type:"error",message:t},setTimeout((()=>{this.notification.show=!1}),2e3)},openAddModal(){this.addModalVisible=!0},closeAddModal(){this.addModalVisible=!1},async saveStaff(t){try{let e={};"add"===t&&(this.staff_image instanceof FormData?(e=this.staff_image,e.append("staff_name",this.staff_name),e.append("staff_email",this.staff_email),e.append("contactNum",this.contactNum)):e={staff_name:this.staff_name,staff_email:this.staff_email,contactNum:this.contactNum});await ia.Z.post("saveStaff",e);"add"===t&&(this.closeAddModal(),this.staff_image="",this.staff_name="",this.staff_email="",this.contactNum="",this.showSuccessNotification("Staff Added Successfully"),this.getStaff())}catch(e){console.error(e)}},async getStaff(){const t=await ia.Z.get("/getStaff");this.staff=t.data},handleStaffImageUpload(t){const e=t.target.files[0],a=new FormData;a.append("staff_image",e),this.staff_image=a}}},oa=a(89);const na=(0,oa.Z)(sa,[["render",ea],["__scopeId","data-v-4da2e16e"]]);var la=na},2894:function(t,e,a){t.exports=a.p+"img/logo1.png.63b3f6c0.png"}}]);
//# sourceMappingURL=909.9aedf7cf.js.map